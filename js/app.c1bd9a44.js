(function(){"use strict";var t={6984:function(t,e,s){var a=s(9963),n=s(6252),i=s(3577);const r={class:"d-flex flex-column justify-content-between",style:{"min-height":"100vh"}},o={key:0,class:"cookie-modal templ-item__bg"},l=(0,n._)("p",{class:"m-0"},"Мы используем cookies.",-1),c={id:"loading-screen"},u=(0,n._)("div",{class:"spinner"},null,-1),d=[u];function p(t,e,s,u,p,h){const m=(0,n.up)("HeaderButtons"),_=(0,n.up)("router-view"),g=(0,n.up)("FooterInfo"),w=(0,n.up)("AlertMessage"),y=(0,n.up)("ModalWindow"),f=(0,n.up)("CreateTeam"),k=(0,n.up)("JoinTeam");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",null,[(0,n.Wm)(m),(0,n.Wm)(_)]),(0,n.Wm)(g),(0,n.Wm)(w,{class:(0,i.C_)({"d-none":!this.$store.state.alert.is_show,"d-block":this.$store.state.alert.is_show})},null,8,["class"]),(0,n.Wm)(y,{class:(0,i.C_)({"d-none":!this.$store.state.modal.isOpen,"d-block":this.$store.state.modal.isOpen})},null,8,["class"]),(0,n.Wm)(f,{class:(0,i.C_)({"d-none":!this.$store.state.modalCreateTeam.isOpen,"d-block":this.$store.state.modalCreateTeam.isOpen})},null,8,["class"]),(0,n.Wm)(k,{class:(0,i.C_)({"d-none":!this.$store.state.modalJoinTeam.isOpen,"d-block":this.$store.state.modalJoinTeam.isOpen})},null,8,["class"]),p.is_show_accept_cookies?((0,n.wg)(),(0,n.iD)("div",o,[l,(0,n._)("button",{class:"btn btn-primary m-0",onClick:e[0]||(e[0]=t=>h.saveAcceptCookies())},"Принять")])):(0,n.kq)("",!0),(0,n.wy)((0,n._)("div",c,d,512),[[a.F8,this.$store.state.loading.isShow]])])}var h=s.p+"img/main_logo2.750245a1.svg",m=s.p+"img/profile.376ab75c.svg",_=s.p+"img/exit.7fe0b1ed.svg";const g=t=>((0,n.dD)("data-v-9bfe46b6"),t=t(),(0,n.Cn)(),t),w={key:0,class:"wrapp_for_menu"},y={class:"header__wrapper"},f={class:"header"},k={class:"top-nav"},v=g((()=>(0,n._)("img",{style:{height:"2em"},src:h,alt:"Новый Шаг"},null,-1))),b=g((()=>(0,n._)("input",{id:"menu-toggle",type:"checkbox"},null,-1))),x=g((()=>(0,n._)("label",{class:"menu-button-container",for:"menu-toggle"},[(0,n._)("div",{class:"menu-button"})],-1))),D={class:"menu"},C=g((()=>(0,n._)("img",{src:m,class:"",style:{width:"30px"}},null,-1))),T=g((()=>(0,n._)("img",{src:_,class:"",style:{width:"30px"}},null,-1))),S=g((()=>(0,n._)("img",{src:m,class:"",style:{width:"30px"}},null,-1))),M={class:"user-notify__wrapper"};function I(t,e,s,r,o,l){const c=(0,n.up)("router-link"),u=(0,n.up)("NotifySVG"),d=(0,n.up)("UserNotify");return l.loggedIn?((0,n.wg)(),(0,n.iD)("div",w,[(0,n._)("header",y,[(0,n._)("div",f,[(0,n._)("section",k,[(0,n._)("div",null,[(0,n.Wm)(c,{class:"navbar-brand",to:"/"},{default:(0,n.w5)((()=>[v])),_:1})]),b,x,(0,n._)("ul",D,[(0,n._)("li",{class:(0,i.C_)({active:"/"===this.$route.path})},[(0,n.Wm)(c,{onClick:l.liClicked,class:(0,i.C_)([{active:"/"===this.$route.path},"custom__link text-decoration-none"]),to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("Главная")])),_:1},8,["onClick","class"])],2),(0,n._)("li",{class:(0,i.C_)({active:"/news"===this.$route.path})},[(0,n.Wm)(c,{onClick:l.liClicked,class:(0,i.C_)([{active:"/news"===this.$route.path},"custom__link text-decoration-none"]),to:"/news"},{default:(0,n.w5)((()=>[(0,n.Uk)("Новости")])),_:1},8,["onClick","class"])],2),(0,n._)("li",{class:(0,i.C_)({active:"/projects"===this.$route.path})},[(0,n.Wm)(c,{onClick:l.liClicked,class:(0,i.C_)([{active:"/projects"===this.$route.path},"custom__link text-decoration-none"]),to:"/projects"},{default:(0,n.w5)((()=>[(0,n.Uk)("Проекты")])),_:1},8,["onClick","class"])],2),(0,n._)("li",{class:(0,i.C_)({active:"/page/regulations-project"===this.$route.path})},[(0,n.Wm)(c,{onClick:l.liClicked,class:(0,i.C_)([{active:"/page/regulations-project"===this.$route.path},"custom__link text-decoration-none"]),to:"/page/regulations-project"},{default:(0,n.w5)((()=>[(0,n.Uk)("Правила")])),_:1},8,["onClick","class"])],2),(0,n._)("li",{class:(0,i.C_)({active:"/page/about-project"===this.$route.path})},[(0,n.Wm)(c,{onClick:l.liClicked,class:(0,i.C_)([{active:"/page/about-project"===this.$route.path},"custom__link text-decoration-none"]),to:"/page/about-project"},{default:(0,n.w5)((()=>[(0,n.Uk)("О проекте")])),_:1},8,["onClick","class"])],2),(0,n._)("li",{class:(0,i.C_)([{active:this.$route.path.includes("/LK")},"d-none d-lg-block"])},[(0,n.Wm)(c,{onClick:l.liClicked,class:(0,i.C_)([{active:this.$route.path.includes("/LK")},"custom__link text-decoration-none"]),to:"/LK",title:"Личный кабинет"},{default:(0,n.w5)((()=>[C])),_:1},8,["onClick","class"])],2),(0,n._)("li",{class:(0,i.C_)([{active_circle:l.is_show},"cursor text-decoration-none li_with_circle notify-bar custom_link__notify d-none d-lg-block"]),onClick:e[0]||(e[0]=(...t)=>l.changeShowNotify&&l.changeShowNotify(...t)),title:"Уведомления"},[(0,n.Wm)(u,{color:l.is_show?"#071434":"#f2f2f2"},null,8,["color"]),(0,n.wy)((0,n._)("div",{class:"new-notify-active"},(0,i.zw)(l.count_new_notify),513),[[a.F8,l.count_new_notify]])],2),(0,n._)("li",null,[l.loggedIn?((0,n.wg)(),(0,n.j4)(c,{key:0,class:"custom__link text-decoration-none",to:"/login",title:"Выйти"},{default:(0,n.w5)((()=>[T])),_:1})):(0,n.kq)("",!0)])])])])]),(0,n._)("div",{class:(0,i.C_)(["d-flex justify-content-center gap-1 d-lg-none mobail-menu align-items-center",{"one-active-elem":l.is_show&&this.$route.path.includes("/LK"),"one-elem":this.$route.path.includes("/LK")&&!l.is_show}])},[(0,n._)("div",{class:(0,i.C_)({"d-none":this.$route.path.includes("/LK")}),onClick:e[1]||(e[1]=(...t)=>l.hideNotify&&l.hideNotify(...t))},[(0,n.Wm)(c,{class:"custom__link text-decoration-none",to:"/LK",title:"Личный кабинет"},{default:(0,n.w5)((()=>[S])),_:1})],2),(0,n._)("div",{class:(0,i.C_)([{active_circle:l.is_show},"cursor li_with_circle notify-bar custom_link__notify"]),onClick:e[2]||(e[2]=(...t)=>l.changeShowNotify&&l.changeShowNotify(...t)),title:"Уведомления"},[(0,n.Wm)(u,{color:l.is_show?"#071434":"#f2f2f2"},null,8,["color"]),(0,n.wy)((0,n._)("div",{class:"new-notify-active"},(0,i.zw)(l.count_new_notify),513),[[a.F8,l.count_new_notify]])],2)],2),(0,n._)("div",M,[(0,n.Wm)(d,{class:(0,i.C_)(["user-notify",{"active-notify":l.is_show}])},null,8,["class"])])])):(0,n.kq)("",!0)}const L={"clip-path":"url(#clip0_15_159)"},$=(0,n._)("rect",{width:"24",height:"24",fill:"transparent"},null,-1),U=["stroke"],A=["stroke"],j=(0,n._)("defs",null,[(0,n._)("clipPath",{id:"clip0_15_159"},[(0,n._)("rect",{width:"24",height:"24",fill:"transparent"})])],-1);function F(t,e,s,a,r,o){return(0,n.wg)(),(0,n.iD)("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:(0,i.j5)({width:s.size,height:s.size})},[(0,n._)("g",L,[$,(0,n._)("path",{d:"M9.5 19C8.89555 19 7.01237 19 5.61714 19C4.87375 19 4.39116 18.2177 4.72361 17.5528L5.57771 15.8446C5.85542 15.2892 6 14.6774 6 14.0564C6 13.2867 6 12.1434 6 11C6 9 7 5 12 5C17 5 18 9 18 11C18 12.1434 18 13.2867 18 14.0564C18 14.6774 18.1446 15.2892 18.4223 15.8446L19.2764 17.5528C19.6088 18.2177 19.1253 19 18.382 19H14.5M9.5 19C9.5 21 10.5 22 12 22C13.5 22 14.5 21 14.5 19M9.5 19C11.0621 19 14.5 19 14.5 19",stroke:s.color,"stroke-linejoin":"round"},null,8,U),(0,n._)("path",{d:"M12 5V3",stroke:s.color,"stroke-linecap":"round","stroke-linejoin":"round"},null,8,A)]),j],4)}var z={props:{color:{type:String,default:"#f2f2f2"},size:{type:String,default:"30px"}},data(){return{}},components:{},methods:{}},H=s(3744);const N=(0,H.Z)(z,[["render",F]]);var P=N;const B=t=>((0,n.dD)("data-v-568ac3fa"),t=t(),(0,n.Cn)(),t),O={class:"wrapper"},R={class:"d-flex justify-content-sm-end justify-content-center"},E={ref:"notifyMenu",class:"col-xl-2 col-md-3 col-sm-4 col-10 bg_second-blue notify-menu mb-5 text-white"},q={key:0,class:"px-4 py-3 d-flex flex-column gap-2"},W={key:0,class:"text-white fw-bold notify-menu__title text-center text-uppercase"},V=B((()=>(0,n._)("br",null,null,-1))),Y={key:1,class:"d-lg-none"},K={class:"m-0 notify-item__content"},Z={class:"text-blue notify-item__date m-0"},J=B((()=>(0,n._)("hr",null,null,-1))),X={key:2,class:"text-white fw-bold notify-menu__title text-center text-uppercase"},G={class:"m-0 notify-item__content"},Q={class:"text-blue notify-item__date m-0"},tt=B((()=>(0,n._)("hr",null,null,-1))),et={key:1},st=B((()=>(0,n._)("br",{class:"d-lg-none"},null,-1))),at=B((()=>(0,n._)("div",{class:"text-white fw-bold notify-menu__title text-center text-uppercase"}," Пусто ",-1))),nt=[st,at];function it(t,e,s,a,r,o){return(0,n.wg)(),(0,n.iD)("div",{onClick:e[0]||(e[0]=(...t)=>o.handleClickOutside&&o.handleClickOutside(...t))},[(0,n._)("div",O,[(0,n._)("div",R,[(0,n._)("div",E,[o.get_new.length||o.get_old.length?((0,n.wg)(),(0,n.iD)("div",q,[o.get_new.length?((0,n.wg)(),(0,n.iD)("div",W,[(0,n.Uk)(" Новые"),V,(0,n.Uk)("уведомления ")])):((0,n.wg)(),(0,n.iD)("br",Y)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.get_new,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.id},[(0,n._)("p",K,(0,i.zw)(t.message),1),(0,n._)("p",Z,"Получено "+(0,i.zw)(o.toStringDate(new Date(Date.parse(t.created_at)))),1),J])))),128)),o.get_new.length&&o.get_old.length?((0,n.wg)(),(0,n.iD)("div",X," Прочитанные ")):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.get_old,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.notification},[(0,n._)("p",G,(0,i.zw)(t.message),1),(0,n._)("p",Q,"Получено "+(0,i.zw)(o.toStringDate(new Date(Date.parse(t.create_at)))),1),tt])))),128))])):((0,n.wg)(),(0,n.iD)("div",et,nt))],512)])])])}const rt={checkNamesInput:ot,checkIsEmail:ut,checkIsOnlyRussianLetter:dt,checkIsEmptyStr:ht,checkAgeBetween:_t,checkPhoneNumber:lt,checkIsOnlyNumbers:pt,correctiongTel:ct,toStringDate:mt};function ot(t){return!ht(t)&&dt(t)}function lt(t){return/^\+7\d{10}$/.test(t)}function ct(t){let e=t;return(e.length<2||!e.startsWith("+7"))&&(e="+7"),/^[0-9+]+$/.test(e)||(e="+7"),e.length>12&&(e=e.substring(0,12)),e}function ut(t){return!ht(t)&&/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}function dt(t){return/^[а-яёА-ЯЁ]+(?:-[а-яёА-ЯЁ]+)*$/.test(t)}function pt(t){return/[0-9]/.test(t)}function ht(t){return""===t||null===t||void 0===t}function mt(t){return`${("0"+t.getDate()).slice(-2)}.${("0"+(t.getMonth()+1)).slice(-2)} ${t.getHours()<10?"0"+t.getHours():t.getHours()}:${t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()}`}function _t(t,e,s){const a=new Date(t),n=new Date(Date.now());let i=n.getFullYear()-a.getFullYear();return(n.getMonth()<a.getMonth()||n.getMonth()==a.getMonth()&&n.getDate()<a.getDate())&&i--,i>=e&&i<=s}var gt={data(){return{}},computed:{get_new(){return this.$store.state.notify.new_notifications},get_old(){return this.$store.state.notify.old_notifications},is_start(){return this.$store.state.notify.status},is_show(){return this.$store.state.notify.is_show_menu},count_new_notify(){return this.$store.state.notify.new_notifications.length}},created(){this.is_start||this.$store.dispatch("notify/start")},components:{},methods:{handleClickOutside(t){const e=this.$refs.notifyMenu;e&&!e.contains(t.target)&&(this.is_show&&this.count_new_notify>0&&this.$store.dispatch("notify/updateOldNotify"),this.$store.dispatch("notify/change_show"))},toStringDate(t){return rt.toStringDate(t)}}};const wt=(0,H.Z)(gt,[["render",it],["__scopeId","data-v-568ac3fa"]]);var yt=wt,ft={name:"HeaderButtons",data(){return{routes:{},width:0}},components:{NotifySVG:P,UserNotify:yt},created(){this.routes=this.$store.state.routes,this.width=window.innerWidth},methods:{liClicked(){document.getElementById("menu-toggle").click()},changeShowNotify(){this.is_show&&this.count_new_notify>0&&this.$store.dispatch("notify/updateOldNotify"),this.$store.dispatch("notify/change_show")},hideNotify(){this.is_show&&(this.count_new_notify>0&&this.$store.dispatch("notify/updateOldNotify"),this.$store.dispatch("notify/set_show",!1))}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn},is_show(){return this.$store.state.notify.is_show_menu},count_new_notify(){return this.$store.state.notify.new_notifications.length}}};const kt=(0,H.Z)(ft,[["render",I],["__scopeId","data-v-9bfe46b6"]]);var vt=kt,bt=s.p+"img/logo-cps.b15b2786.png",xt="data:image/png;base64,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";const Dt={key:0,class:"bg_blue"},Ct={class:"py-2 pb-3 pb-lg-0"},Tt={class:"container d-flex flex-column-reverse flex-lg-row justify-content-lg-between align-items-center"},St=(0,n.uE)('<div class=""><a class="text-white link hover-btn" href="https://cps.tver.ru/" target="_blank"><img src="'+bt+'" style="max-width:300px;"></a></div><div class="d-none d-md-block"><img style="width:100px;" src="'+xt+'" alt="telegram qr-code"></div>',2),Mt={class:"text-white d-flex flex-column gap-2 py-2"},It=(0,n._)("div",null,[(0,n._)("p",{class:"m-0"},[(0,n.Uk)("Почта для связи: "),(0,n._)("a",{class:"text-white link hover-btn",href:"mailto:nwstep@internet.ru",target:"_blank"},"nwstep@internet.ru")])],-1),Lt={class:""},$t=(0,n._)("div",null,[(0,n._)("p",{class:""},[(0,n.Uk)(" Телеграм-канал проекта: "),(0,n._)("a",{class:"text-white link hover-btn",href:"https://t.me/tverchamp",target:"_blank"},"@tverchamp")])],-1);function Ut(t,e,s,a,i,r){const o=(0,n.up)("router-link");return r.loggedIn?((0,n.wg)(),(0,n.iD)("footer",Dt,[(0,n._)("div",Ct,[(0,n._)("div",Tt,[St,(0,n._)("div",Mt,[It,(0,n._)("div",Lt,[(0,n.Wm)(o,{class:"text-white link hover-btn",to:"/call-back"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Форма обратной связи ")])),_:1})]),(0,n._)("div",null,[(0,n.Wm)(o,{class:"text-white link hover-btn",to:"/page/privacy"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Политика обработки персональных данных ")])),_:1})]),$t])])])])):(0,n.kq)("",!0)}const At={forgot_pass_button:"Забыл пароль",login_button:"Войти",button_to_reg:"Зарегистрироваться",button_to_reg_about:"Еще нет аккаунта?",button_to_question:"тут",button_to_question_about:"Есть вопрос? Ты можешь задать его ",email_contact_about:"Почта для связи: "},jt={change_pass_about:"Введи почтовый адрес аккаунта, на него придет временный пароль.",change_pass_button:"Отправить",change_pass_susses:"Новый пароль выcлан на почту. В личном кабинете можно изменить пароль."},Ft={call_back_about:"Напиши свой вопрос, предложение или проблему, с которой ты столкнулся при использовании платформы",call_back_button:"Отправить",call_back_susses:"Спасибо за обратную связь. Пришлем ответ по почте.",call_back_fail:"Отправка не удалась. Возможны неполадки на сервере, попробуй позднее."};var zt={data(){return{loginText:{}}},created(){this.loginText=At},methods:{},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}}};const Ht=(0,H.Z)(zt,[["render",Ut]]);var Nt=Ht;const Pt=t=>((0,n.dD)("data-v-3748b890"),t=t(),(0,n.Cn)(),t),Bt={class:"alert"},Ot={xmlns:"http://www.w3.org/2000/svg",style:{display:"none"}},Rt=Pt((()=>(0,n._)("symbol",{id:"check-circle-fill",fill:"currentColor",viewBox:"0 0 16 16"},[(0,n._)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})],-1))),Et=Pt((()=>(0,n._)("symbol",{id:"exclamation-triangle-fill",fill:"currentColor",viewBox:"0 0 16 16"},[(0,n._)("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})],-1))),qt=[Rt,Et],Wt={key:0,class:"alert alert-success d-flex align-items-center",role:"alert"},Vt=Pt((()=>(0,n._)("svg",{class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Success:"},[(0,n._)("use",{"xlink:href":"#check-circle-fill"})],-1))),Yt={key:1,class:"alert alert-danger d-flex align-items-center",role:"alert"},Kt=Pt((()=>(0,n._)("svg",{class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Danger:"},[(0,n._)("use",{"xlink:href":"#exclamation-triangle-fill"})],-1)));function Zt(t,e,s,a,r,o){return(0,n.wg)(),(0,n.iD)("div",Bt,[((0,n.wg)(),(0,n.iD)("svg",Ot,qt)),"Success"==this.$store.state.alert.type?((0,n.wg)(),(0,n.iD)("div",Wt,[Vt,(0,n._)("div",null,(0,i.zw)(this.$store.state.alert.message),1)])):"Danger"==this.$store.state.alert.type?((0,n.wg)(),(0,n.iD)("div",Yt,[Kt,(0,n._)("div",null,(0,i.zw)(this.$store.state.alert.message),1)])):(0,n.kq)("",!0)])}var Jt={data(){return{}},components:{},methods:{}};const Xt=(0,H.Z)(Jt,[["render",Zt],["__scopeId","data-v-3748b890"]]);var Gt=Xt;const Qt={class:"d-flex justify-content-end"},te=["innerHTML"];function ee(t,e,s,i,r,o){return(0,n.wg)(),(0,n.iD)("div",{class:"modal",onClick:e[3]||(e[3]=(...t)=>o.closeModal&&o.closeModal(...t))},[(0,n._)("div",{class:"modal-content",onClick:e[2]||(e[2]=(0,a.iM)((()=>{}),["stop"]))},[(0,n._)("div",Qt,[(0,n._)("span",{class:"close",onClick:e[0]||(e[0]=(...t)=>o.closeModal&&o.closeModal(...t))},"×")]),(0,n._)("div",{class:"modal__html",innerHTML:o.modal.content},null,8,te),(0,n._)("button",{class:"btn btn-primary col-4 mx-auto",onClick:e[1]||(e[1]=(...t)=>o.closeModal&&o.closeModal(...t))},"Принять")])])}var se={computed:{modal(){return this.$store.state.modal}},methods:{closeModal(){this.$store.dispatch("modal/closeModal")}}};const ae=(0,H.Z)(se,[["render",ee]]);var ne=ae;const ie={class:"d-flex justify-content-end"},re=["innerHTML"],oe={class:"mb-3 input-box"},le=(0,n._)("label",{for:"team_name",class:"form-label"},"Название команды",-1),ce=(0,n._)("div",{class:"d-flex justify-content-center mb-2"},[(0,n._)("button",{type:"submit",class:"btn btn-primary"},"Зарегистрировать команду")],-1);function ue(t,e,s,r,o,l){return(0,n.wg)(),(0,n.iD)("div",{class:"modal",onClick:e[4]||(e[4]=(...t)=>l.closeModal&&l.closeModal(...t))},[(0,n._)("div",{class:"modal-content",onClick:e[3]||(e[3]=(0,a.iM)((()=>{}),["stop"]))},[(0,n._)("div",ie,[(0,n._)("span",{class:"close",onClick:e[0]||(e[0]=(...t)=>l.closeModal&&l.closeModal(...t))},"×")]),(0,n._)("div",{class:"modal__html mb-3 text-center mx-auto col-md-7",innerHTML:l.modal.content},null,8,re),(0,n._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...t)=>l.regTeam&&l.regTeam(...t)),["prevent"])),novalidate:"",class:"m-auto col-md-7"},[(0,n._)("div",oe,[le,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.team_name=t),type:"text",class:(0,i.C_)(["input",{"border-danger":!o.isCorrect.team_name}]),id:"team_name",style:{width:"100%"}},null,2),[[a.nr,o.team_name]])]),ce],32)])])}s(7658);var de=s(7066);const pe="nwstep.ru",he={apiURL:"/api/",wsURL:`wss://${pe}/ws/`};var me=he,_e=s(1955);const ge=de.Z.create({baseURL:me.apiURL,timeout:5e3,withCredentials:!0});ge.interceptors.request.use((t=>{const e=_e.Z.get("csrftoken");return e&&(t.headers["X-CSRFToken"]=e),t}));var we=ge,ye=s(2201);const fe={class:"py-5 pb-2 bg__blue text-white"},ke={class:"container"},ve={class:"row d-flex flex-column-reverse flex-lg-row gap-lg-0 gap-3 justify-content-between"},be={class:"col-lg-8 col-12"},xe={key:0},De=["innerHTML"],Ce={key:1},Te=["innerHTML"],Se={key:3},Me=["innerHTML"],Ie={class:"col-lg-3 d-lg-block d-flex flex-sm-row flex-column align-items-center align-items-sm-start justify-content-center gap-3"};function Le(t,e,s,a,i,r){const o=(0,n.up)("ScheduleBar"),l=(0,n.up)("NominationsBar"),c=(0,n.up)("NewsBar"),u=(0,n.up)("EventsBar");return(0,n.wg)(),(0,n.iD)("div",fe,[(0,n._)("div",ke,[(0,n._)("div",ve,[(0,n._)("div",be,[i.title_and_subtitle?((0,n.wg)(),(0,n.iD)("div",xe,[(0,n._)("div",{innerHTML:i.title_and_subtitle},null,8,De)])):(0,n.kq)("",!0),i.main_message?((0,n.wg)(),(0,n.iD)("div",Ce,[(0,n._)("p",{class:"mb-3 text-center p-2 templ-item__bg bg_blue text-white",innerHTML:i.main_message},null,8,Te)])):(0,n.kq)("",!0),(0,n.Wm)(o,{schedule:i.schedule,title:"Расписание мероприятий"},null,8,["schedule"]),i.nominations.length?((0,n.wg)(),(0,n.j4)(l,{key:2,nominations_array:i.nominations},null,8,["nominations_array"])):(0,n.kq)("",!0),i.organizations?((0,n.wg)(),(0,n.iD)("div",Se,[(0,n._)("div",{innerHTML:i.organizations},null,8,Me)])):(0,n.kq)("",!0)]),(0,n._)("div",Ie,[(0,n.Wm)(c,{class:"mb-2 mb-lg-5 col-sm-5 col-9 col-lg-12 d-md-block d-none",classes:"flex-column"}),(0,n.Wm)(u,{event_list:i.events,class:"col-12 col-md-6 col-lg-12"},null,8,["event_list"])])])])])}const $e={getMainMessge:Ae,getPageContent:Ue};async function Ue(t){return Np("get",`page_static/${t}/`,null,!1)}async function Ae(){return(await Np("get","main_message/",null,!1))[0]}const je={createSchedule:Fe,createNominationsElem:ze};function Fe(t,e){let s=0;return t.forEach((t=>{t.stages=[{name:"Отборочный",nominations:[]},{name:"Очный",nominations:[]}],t.nominations.forEach((a=>{a.stages.forEach((e=>{s="Отборочный"===e.stage_code?0:1,t.stages[s].nominations.push({id:a.nomination.id,name:a.nomination.name,start:He(new Date(Date.parse(e.start_date))),end:He(new Date(Date.parse(e.end_date))),start_date:new Date(Date.parse(e.start_date)),end_date:new Date(Date.parse(e.end_date))})}));const n=e.find((e=>e.id===t.event.id&&e.team_size>1));n&&t.stages.unshift({name:"Регистрационный",nominations:[{name:"Формирование команд",start:He(new Date(Date.parse(n.start_date))),end:He(new Date(Date.parse(n.register_end_date)))}]})}))})),t}function ze(t,e,s,a,n){return t.forEach((t=>{t.event_id=e.id,t.is_team_event=e.team_size>1,t.is_exist_task=(t.programs?.length??0)>0&&null!=t.programs[0],t.is_active=Boolean(s.find((e=>e==t.id)));const i=n[0]?.stages[0].nominations?.find((e=>t.id===e.id))?.end_date;if(t.register_end_date=t.is_team_event&&new Date<new Date(Date.parse(e.register_end_date))||!t.is_team_event&&new Date<i,t.enddate_register_time_text=t.is_team_event?He(new Date(Date.parse(e.register_end_date))):!!i&&He(i),t.is_exist_task){t.task={};const e=a.find((e=>e.task===t.programs[0]));e?(t.task.status=e.is_accepted_display,t.task.is_accepted=e.is_accepted,["C","О"].includes(t.task.is_accepted)&&(t.task.button_text="Перейти к условию")):t.task.button_text="Приступить к задаче"}})),t}function He(t){return rt.toStringDate(t)}const Ne={key:0},Pe={class:"text-white"},Be={class:"text-center"},Oe={class:"text-center"};function Re(t,e,s,a,r,o){const l=(0,n.up)("router-link");return r.news.results.length?((0,n.wg)(),(0,n.iD)("article",Ne,[(0,n._)("div",Pe,[(0,n._)("h4",Be,(0,i.zw)(r.newsText.header),1),(0,n._)("div",{class:(0,i.C_)(["d-flex align-items-stretch text-center justify-content-center",s.classes])},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.news.results,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.id,class:"m-1 p-2 templ-item__bg mb-2"},[(0,n._)("h6",null,(0,i.zw)(t.title),1),(0,n._)("p",null,(0,i.zw)(o.format_date(t.publish_date)),1)])))),128))],2),(0,n._)("div",Oe,[(0,n.Wm)(l,{class:"text-decoration-underline text-white link hover-btn",to:"/news"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(r.newsText.all_news_button),1)])),_:1})])])])):(0,n.kq)("",!0)}const Ee={getNews:qe};async function qe(t=1,e=1){return Np("get",`news/?page=${e}&page_size=${t}`,null,!1)}const We={header:"Новости",load_more:"Загрузить ещё",all_news_button:"Все новости ->"};var Ve={props:{classes:String},data(){return{news:{results:[]},newsText:{}}},async created(){this.newsText=We,this.news=await Ee.getNews(2).catch((()=>({results:[]})))},components:{},methods:{format_date(t){if(""===t)return"";const e=t.split("-");return e[2][0]+e[2][1]+"."+e[1]+"."+e[0]}}};const Ye=(0,H.Z)(Ve,[["render",Re]]);var Ke=Ye;const Ze={key:0},Je={class:""},Xe={class:"text-white text-center"},Ge=["innerHTML"];function Qe(t,e,s,a,r,o){const l=(0,n.up)("router-link");return s.event_list.length?((0,n.wg)(),(0,n.iD)("article",Ze,[(0,n._)("div",Je,[(0,n._)("h4",Xe,(0,i.zw)(s.title?s.title:"Текущие мероприятия"),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.event_list,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.id,class:"p-2 templ-item__bg mb-2 text-center"},[(0,n._)("p",{class:"fs-6",innerHTML:t.name},null,8,Ge),t.link_name?((0,n.wg)(),(0,n.j4)(l,{key:0,class:"text-white link hover-btn",to:"/event/"+t.id},{default:(0,n.w5)((()=>[(0,n.Uk)("Читать подробнее")])),_:2},1032,["to"])):(0,n.kq)("",!0)])))),128))])])):(0,n.kq)("",!0)}var ts={props:{event_list:Array,title:String},data(){return{}},components:{},methods:{showMsg:function(){this.$store.dispatch("alert/sendMessage",{message:"Появится в скором будущем",type:"Danger"})}}};const es=(0,H.Z)(ts,[["render",Qe]]);var ss=es;const as=t=>((0,n.dD)("data-v-a8de4efa"),t=t(),(0,n.Cn)(),t),ns={class:"mb-4"},is=as((()=>(0,n._)("h4",{class:"text-center mb-2"},"Текущие номинации",-1))),rs={class:"text-center mb-3"},os={class:"mx-auto col-10"},ls={key:0},cs={key:0,class:"text-center"},us=["innerHTML"],ds={key:1,class:"text-center"},ps={key:1},hs=["innerHTML"],ms={key:0,class:"d-flex flex-sm-row flex-column gap-3 gap-sm-0 align-items-center justify-content-center"},_s=["onClick"],gs=["onClick"],ws={key:2},ys=["innerHTML"],fs={key:0,class:"d-flex flex-sm-row flex-column gap-3 gap-sm-0 align-items-center justify-content-center"},ks=["onClick"],vs=["onClick"];function bs(t,e,s,r,o,l){const c=(0,n.up)("router-link"),u=(0,n.up)("swiper-slide"),d=(0,n.up)("swiper");return(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",ns,[is,(0,n.Wm)(d,{class:"",style:{"vertical-align":"baseline"},modules:r.modules,"slides-per-view":1,"space-between":0,loop:!0,navigation:"",pagination:{clickable:!0}},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.nominations,((t,e)=>((0,n.wg)(),(0,n.j4)(u,{key:t.id,class:"my-auto"},{default:(0,n.w5)((()=>[(0,n._)("div",{class:(0,i.C_)(["nom_item templ-item__bg p-2 mb-4 text-white col-sm-9 col-12 mx-auto",{is_active:t.is_active}]),style:{height:"100%"}},[(0,n._)("h5",rs,(0,i.zw)(t.name),1),(0,n._)("div",os,[t.event?((0,n.wg)(),(0,n.iD)("div",ls,[t.event_link_name?((0,n.wg)(),(0,n.iD)("p",cs,[(0,n.Uk)(" Мероприятие: "),(0,n._)("em",null,[(0,n.Wm)(c,{class:"text-white link hover-btn",to:"/event/"+t.event_id},{default:(0,n.w5)((()=>[(0,n._)("span",{innerHTML:t.event},null,8,us)])),_:2},1032,["to"])])])):((0,n.wg)(),(0,n.iD)("p",ds,[(0,n.Uk)("Мероприятие: "),(0,n._)("em",null,(0,i.zw)(t.event),1)]))])):(0,n.kq)("",!0),(0,n._)("p",null,(0,i.zw)(t.description),1),t.is_team_event?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",ps,[(0,n._)("div",{innerHTML:l.getNotTeamInHtml(t)},null,8,hs),t.register_end_date?((0,n.wg)(),(0,n.iD)("div",ms,[!t.is_public||t.task.is_accepted&&"C"!==t.task.is_accepted?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:0,class:(0,i.C_)(["btn",{"me-sm-5":t.is_exist_task,"btn-primary":!t.is_active,"btn-light":t.is_active}]),onClick:s=>l.changeActive(t.id,e)},(0,i.zw)(t.is_active?"Отказаться от участия":"Я участвую!"),11,_s)),t.is_exist_task&&t.task.button_text?((0,n.wg)(),(0,n.iD)("button",{key:1,class:"btn btn-primary",onClick:e=>l.StartTask(t.programs[0],t.task)},(0,i.zw)(t.task.button_text),9,gs)):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])),t.is_team_event?((0,n.wg)(),(0,n.iD)("div",ws,[(0,n._)("div",{innerHTML:l.getTeamTextInHtml(t)},null,8,ys),!t.is_active&&t.register_end_date?((0,n.wg)(),(0,n.iD)("div",fs,[(0,n._)("button",{class:"btn btn-primary me-sm-5",onClick:e=>l.joinTeam(t.event_id,t.event,t.id)}," Присоединиться к команде ",8,ks),(0,n._)("button",{class:"btn btn-primary",onClick:e=>l.createTeam(t.event_id,t.event,t.id)}," Создать команду ",8,vs)])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])],2)])),_:2},1024)))),128))])),_:1},8,["modules"])],512)),[[a.F8,o.nominations.length]])}const xs={getTeams:Ts,getTasks:Ss,getTask:Ms,postTaskFile:Us,getTaskStatus:$s,putTaskFile:zs,getFile:Is,postUserNomination:As,deleteUserNomination:Fs,getUserNomination:Ds,getUserEventStageList:js,getTasksFromNomination:Hs,getUserNominations:Cs,getTaskStatusAll:Ls};async function Ds(t){const e=t?`?nomination_id=${t}`:"";return Np("get",`event_user/${e}`)}async function Cs(t){const e=t?`?event=${t}`:"";return Np("get",`event_all/${e}`)}async function Ts(){return Np("get","view_teams")}async function Ss(){return Np("get","task")}async function Ms(t){return Np("get",`task/${t}/`)}async function Is(t){return Np("get",`download-file/${t}/`)}async function Ls(){return Np("get","task_status_all/")}async function $s(t){return Np("get",`task_status/${t}/`)}async function Us(t){return Np("post","task/",t)}async function As(t){return Np("post","event_user/",{nomination:t})}async function js(){return Np("get","event_stage/")}async function Fs(t){return Np("delete","event_user/",{nomination:t})}async function zs(t){return Np("put","task/",t)}async function Hs(t,e){return Np("get",`nomination_programs/${t}/${e}/`,null,!1)}var Ns=s(9304),Ps=s(7552),Bs={props:{nominations_array:Array},data(){return{teams_texts:[" *Для участия в данной номинации необходимо состоять в команде.<br>Команды должны быть сформированы до","Ты уже состоишь в команде для участия в данной номинации!","Регистрация команд закрыта"],not_team_texts:[' *В рамках отборочного этапа для данной номинации есть задача. Нажми "Приcтупить к задаче", если тебя заинтересовало участие в номинации.','*Участие в данной номинации доступно без отборочного этапа. Нажми "Я участвую!", если готов продемонстрировать свои навыки.',"Также ты можешь решить задачу отборочного этапа, это даст тебе дополнительные очки.","Ты записан на участие в данной номинации!","Запись на участие в номинации закрыта"],teams_text:"",nominations:[]}},components:{Swiper:Ps.tq,SwiperSlide:Ps.o5},created(){this.nominations=this.nominations_array},setup(){return{modules:[Ns.W_,Ns.tl,Ns.s5]}},methods:{getNotTeamInHtml(t){if(t.is_active)return`<p class="text-center"><em class="text-second-blue">${this.not_team_texts[3]}</em></p>`;if(!t.register_end_date)return`<p class="text-center"><em class="text-second-blue">${this.not_team_texts[4]}.</em></p>`;if(t.is_exist_task&&!t.is_public&&!t.is_active)return`<p>${this.not_team_texts[0]}</p>`;if(t.is_public&&!t.is_active){let e=`<p>${this.not_team_texts[1]}`;return t.is_exist_task&&(e+=`  <br>${this.not_team_texts[2]}</p>`),e}return""},getTeamTextInHtml(t){return t.is_active?`<p class="text-center"><em class="text-second-blue">${this.teams_texts[1]}</em></p>`:t.register_end_date?t.is_active?"":`<p>${this.teams_texts[0]} ${t.enddate_register_time_text}</p>`:`<p class="text-center"><em class="text-second-blue">${this.teams_texts[2]} c ${t.enddate_register_time_text}.</em></p>`},async StartTask(t,e){if(e.is_accepted)return void this.$router.push("/LK/my-tasks/"+t);const s=new FormData;s.append("task_id",t);try{await xs.postTaskFile(s),this.$store.dispatch("alert/sendMessage",{message:"Можно приступать к выполнению!",type:"Success"}),this.$router.push("/LK/my-tasks/"+t)}catch(a){let t=a.response.data;500!==a.response.status&&(t=t.error),this.$store.dispatch("alert/sendMessage",{message:t,type:"Danger"})}},createTeam(t,e,s){console.log("createTeam");const a="Регистрация команды"+(e?` на мероприятие ${e}`:"");this.$store.dispatch("modalCreateTeam/openModal",{content:`<h5>${a}</h5>`,event_id:t,id_nom:s})},joinTeam(t,e,s){const a="Присоединиться к существующей команде"+(e?` на мероприятие ${e}`:"");this.$store.dispatch("modalJoinTeam/openModal",{content:`<h5>${a}</h5>`,id_nom:s,event_id:t})},changeActive(t,e){this.nominations[e].is_active?this.toRemoveActive(t,e):this.toActiveAdd(t,e)},async toActiveAdd(t,e){try{await xs.postUserNomination(t),this.nominations[e].is_active=!0,this.$store.dispatch("alert/sendMessage",{message:"Ты участвуешь!",type:"Success"})}catch(s){this.$store.dispatch("alert/sendMessage",{message:"Запись не удалась. Повторите попытку позднее",type:"Danger"})}},async toRemoveActive(t,e){try{await xs.deleteUserNomination(t),this.nominations[e].is_active=!1,this.$store.dispatch("alert/sendMessage",{message:"Запись отменена",type:"Success"})}catch(s){this.$store.dispatch("alert/sendMessage",{message:"Отмена записи не удалась. Повторите попытку позднее",type:"Danger"})}}}};const Os=(0,H.Z)(Bs,[["render",bs],["__scopeId","data-v-a8de4efa"]]);var Rs=Os;const Es={key:0,class:""},qs={key:0,class:"text-center mb-3"},Ws=["innerHTML"],Vs={class:"mb-4 d-flex justify-content-center gap-3 align-items-center flex-wrap flex-lg-nowrap flex-lg-row"},Ys={key:0,class:"mb-3 px-3 py-2 templ-item__bg mx-auto",style:{"max-width":"500px"}},Ks={class:"text-center"},Zs={class:"text-second-blue"},Js=(0,n._)("br",null,null,-1),Xs=(0,n._)("br",null,null,-1);function Gs(t,e,s,a,r,o){return s.schedule.length?((0,n.wg)(),(0,n.iD)("div",Es,[s.title?((0,n.wg)(),(0,n.iD)("h4",qs,(0,i.zw)(s.title),1)):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.schedule,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.event.id,class:""},[(0,n._)("h5",{class:"mb-3 text-center fs-6",innerHTML:t.event.name},null,8,Ws),(0,n._)("div",Vs,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.stages,((t,e)=>((0,n.wg)(),(0,n.iD)("div",{key:e},[t.nominations.length?((0,n.wg)(),(0,n.iD)("div",Ys,[(0,n._)("h5",Ks," Этап: "+(0,i.zw)(t.name),1),(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.nominations,((t,e)=>((0,n.wg)(),(0,n.iD)("li",{class:"mb-1",key:e},[(0,n._)("em",Zs,(0,i.zw)(t.name),1),Js,(0,n.Uk)("c "+(0,i.zw)(t.start)+" до "+(0,i.zw)(t.end)+" ",1),Xs])))),128))])])):(0,n.kq)("",!0)])))),128))])])))),128))])):(0,n.kq)("",!0)}var Qs={props:{schedule:Array,title:String},data(){return{}},components:{},methods:{}};const ta=(0,H.Z)(Qs,[["render",Gs]]);var ea=ta,sa={name:"MainPage",data(){return{main_message:"",events:[],pages:[{title:"Мероприятия",id:1},{title:"Новости",id:2}],nominations:[],timepoints:[{event_name:'Кубок НИИ "Центрпрограммсистем", 2023',datepoints:[{date:"5 ноября",times:[{start:"9:00",end:"13:00",nomination:"Моделирование и реализация графического интерфейса"},{start:"9:00",end:"12:00",nomination:"Базы данных"},{start:"12:00",end:"14:00",nomination:"Программирование сетевого взаимодействия"},{start:"12:00",end:"13:00",nomination:"Программирование графики"},{start:"14:00",end:"15:00",nomination:"Веб-разработка"},{start:"15:00",end:"18:00",nomination:"Математическое моделирование"},{start:"15:00",end:"18:00",nomination:"Анимация трёхмерных моделей"}]}]},{event_name:'Хакатон "защита в действии"',datepoints:[{date:"6 ноября",times:[{start:"9:00",end:"21:30",nomination:"Безопасность сетей"}]},{date:"7 ноября",times:[{start:"9:00",end:"21:30",nomination:"Безопасность сетей"}]}]}],schedule:[],title_and_subtitle:"",organizations:""}},components:{NewsBar:Ke,EventsBar:ss,NominationsBar:Rs,ScheduleBar:ea},async created(){if(this.title_and_subtitle=(await $e.getPageContent("main-title-and-sub-title").catch((()=>({content:'<h1 class="fs-3 text-center mb-4 ">Студенческий фестиваль ИТ-профессий<br>«Новый шаг»</h1>'})))).content,this.main_message=(await $e.getMainMessge().catch((()=>""))).text,this.organizations=(await $e.getPageContent("organizations").catch((()=>({content:""})))).content,this.events=await Wp.getActualEventsList().catch((()=>[])),!this.events)return;const t=this.events.filter((t=>t.team_event));this.schedule=je.createSchedule(await Wp.getSchedule().catch((()=>[])),t);for(let e=0;e<this.events.length;++e){const t=je.createNominationsElem(await Wp.getNominationsFromEvent(this.events[e].id).catch((()=>[])),this.events[e],await xs.getUserNominations().catch((()=>[])),await xs.getTaskStatusAll().catch((()=>[])),this.schedule);Array.prototype.push.apply(this.nominations,t)}},methods:{}};const aa=(0,H.Z)(sa,[["render",Le],["__scopeId","data-v-39760a3c"]]);var na=aa;const ia={class:"py-5 pb-2 bg__blue text-white"},ra={class:"container"},oa=["innerHTML"];function la(t,e,s,a,i,r){const o=(0,n.up)("BackLink");return(0,n.wg)(),(0,n.iD)("div",ia,[(0,n._)("div",ra,[(0,n.Wm)(o,{text:"назад"})]),(0,n._)("div",{innerHTML:i.content},null,8,oa)])}var ca=s(3907),ua=s(4702);const da={namespaced:!0,state:{status:{loggedIn:!1}},mutations:{loginSuccess(t){t.status.loggedIn=!0},logout(t){t.status.loggedIn=!1}},actions:{setup({commit:t}){const e=JSON.parse(localStorage.getItem("access"));e&&t("loginSuccess")},login({commit:t},e){return Lp.login(e).then((e=>{localStorage.setItem("access",JSON.stringify(e)),t("loginSuccess")}),(e=>{throw console.log(e),t("logout"),e}))},logout({commit:t},e=!1){localStorage.removeItem("user_data"),localStorage.removeItem("access"),t("logout"),Lp.logout(e)}}},pa={namespaced:!0,state:{is_show:!1,message:"",type:""},mutations:{showMessage(t,{message:e,type:s}){t.message=e,t.type=s,t.is_show=!0},hiddenMessage(t){t.is_show=!1,t.type="",t.message=""}},actions:{sendMessage({commit:t},{message:e,type:s}){t("showMessage",{message:e,type:s}),setTimeout((()=>{t("hiddenMessage")}),5e3)}}},ha={namespaced:!0,state:{isOpen:!1,content:"",datas:[]},mutations:{setupModal(t,e){t.datas=e.datas||[],t.content=e.content||"",t.isOpen=e.isOpen||!1},openModal(t,e){""!==t.content?t.datas.push(e):t.content=e,t.isOpen=!0},closeModal(t){t.datas.length?t.content=t.datas.shift():(t.isOpen=!1,t.content="")}},actions:{setup({commit:t},e){t("setupModal",e)},openModal({commit:t},e){t("openModal",e)},closeModal({commit:t}){t("closeModal")}}},ma={namespaced:!0,state:{isOpen:!1,content:"",event_id:0,id_nom:0},mutations:{openModal(t,e){t.isOpen=!0,t.content=e.content,t.event_id=e.event_id,t.id_nom=e.id_nom},closeModal(t){t.isOpen=!1,t.content="",t.event_id=0,t.id_nom=0}},actions:{openModal({commit:t},e){t("openModal",e)},closeModal({commit:t}){t("closeModal")}}},_a={namespaced:!0,state:{isOpen:!1,content:"",event_id:0,id_nom:0},mutations:{openModal(t,e){t.isOpen=!0,t.content=e.content,t.id_nom=e.id_nom,t.event_id=e.event_id},closeModal(t){t.isOpen=!1,t.content="",t.id_nom=0,t.event_id=0}},actions:{openModal({commit:t},e){t("openModal",e)},closeModal({commit:t}){t("closeModal")}}};var ga=s(2262);const wa=me.wsURL,ya={useNotifications:fa,getNotify:ka,putNotify:va};function fa(t){const e=(0,ga.iH)([]),s=new WebSocket(wa+"notifications/"+`?token=${t}`);return s.onmessage=function(t){const s=JSON.parse(t.data);s.action?("delete"===s.action&&(e.value=e.value.filter((t=>t.id!==s.notification_id))),"update"===s.action&&(e.value=[])):(e.value.unshift(s),Ca.dispatch("alert/sendMessage",{message:"Пришло новое уведомление",type:"Success"}))},s.onclose=async function(t){t.wasClean&&4001===t.code?(await Lp.refresh(),Ca.dispatch("notify/start")):Ca.dispatch("notify/stop")},{notifications:e}}async function ka(){return(await Np("get","notifications/")).reverse()}async function va(){return Np("put","notifications/")}const ba={namespaced:!0,state:{status:!1,new_notifications:[],old_notifications:[],is_show_menu:!1},mutations:{start(t,e){t.status=e.status,t.new_notifications=e.notifications,t.old_notifications=e.old_notifications},failur(t){t.status=!1,t.new_notifications=[],t.old_notifications=[],t.is_show_menu=!1},update_old_notify(t,e){t.old_notifications=e},change_show_menu(t){t.is_show_menu=!t.is_show_menu},set_show_menu(t,e){t.is_show_menu=e}},actions:{change_show({commit:t}){t("change_show_menu")},set_show({commit:t},e){t("set_show_menu",e)},stop({commit:t}){t("failur")},async start({commit:t}){try{const e=await ya.getNotify(),s=JSON.parse(localStorage.getItem("access"));if(!s)return void t("failur");const{notifications:a}=ya.useNotifications(s);t("start",{status:!0,notifications:a,old_notifications:e})}catch(e){t("failur")}},async updateOldNotify({commit:t}){try{await ya.putNotify();const e=await ya.getNotify();t("update_old_notify",e)}catch(e){t("failur")}}}},xa={namespaced:!0,state:{isShow:!1,count:0},mutations:{showLoading(t){t.count++,t.isShow=!0},hideLoading(t){t.count--,t.count||(t.isShow=!1)}},actions:{show({commit:t}){t("showLoading")},hide({commit:t}){t("hideLoading")}}},Da=(0,ca.MT)({modules:{auth:da,alert:pa,modal:ha,modalCreateTeam:ma,modalJoinTeam:_a,notify:ba,loading:xa},plugins:[(0,ua.Z)({paths:["modal"]})]});var Ca=Da;const Ta={showTextModal:Sa,showListModal:Ma,showMiniListModal:Ia};function Sa(t){const e=`<h5 class="text-center py-5">${t}</h5>`;Ca.dispatch("modal/openModal",e)}function Ma(t,e){let s=`<h5 class="mb-3 text-center">${t}</h5><ul>`;for(let a in e){s+=`<li>${a}<ul>`;for(let t in e[a])s+=`<li>${e[a][t]}</li>`;s+="</ul></li>"}s+="</ul>",Ca.dispatch("modal/openModal",s)}function Ia(t){let e="<ul>";for(let s in t)e+=`<li>${t[s]}</li>`;e+="</ul>",Ca.dispatch("modal/openModal",e)}const La=t=>((0,n.dD)("data-v-4895567d"),t=t(),(0,n.Cn)(),t),$a={class:"mb-2 d-flex"},Ua=La((()=>(0,n._)("svg",{class:"arrow-icon",width:"20px",height:"20px",viewBox:"0 0 512 512",version:"1.1","xml:space":"preserve",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[(0,n._)("g",{id:"Layer_1"}),(0,n._)("g",{id:"Layer_2"},[(0,n._)("g",null,[(0,n._)("path",{d:"M217,129.88c-6.25-6.25-16.38-6.25-22.63,0L79.61,244.64c-0.39,0.39-0.76,0.8-1.11,1.23    c-0.11,0.13-0.2,0.27-0.31,0.41c-0.21,0.28-0.42,0.55-0.62,0.84c-0.14,0.21-0.26,0.43-0.39,0.64c-0.14,0.23-0.28,0.46-0.41,0.7    c-0.13,0.24-0.24,0.48-0.35,0.73c-0.11,0.23-0.22,0.45-0.32,0.68c-0.11,0.26-0.19,0.52-0.28,0.78c-0.08,0.23-0.17,0.46-0.24,0.69    c-0.09,0.29-0.15,0.58-0.22,0.86c-0.05,0.22-0.11,0.43-0.16,0.65c-0.08,0.38-0.13,0.76-0.17,1.14c-0.02,0.14-0.04,0.27-0.06,0.41    c-0.11,1.07-0.11,2.15,0,3.22c0.01,0.06,0.02,0.12,0.03,0.18c0.05,0.46,0.12,0.92,0.21,1.37c0.03,0.13,0.07,0.26,0.1,0.39    c0.09,0.38,0.18,0.76,0.29,1.13c0.04,0.13,0.09,0.26,0.14,0.4c0.12,0.36,0.25,0.73,0.4,1.09c0.05,0.11,0.1,0.21,0.15,0.32    c0.17,0.37,0.34,0.74,0.53,1.1c0.04,0.07,0.09,0.14,0.13,0.21c0.21,0.38,0.44,0.76,0.68,1.13c0.02,0.03,0.04,0.06,0.06,0.09    c0.55,0.81,1.18,1.58,1.89,2.29l114.81,114.81c3.12,3.12,7.22,4.69,11.31,4.69s8.19-1.56,11.31-4.69c6.25-6.25,6.25-16.38,0-22.63    l-87.5-87.5h291.62c8.84,0,16-7.16,16-16s-7.16-16-16-16H129.51L217,152.5C223.25,146.26,223.25,136.13,217,129.88z"})])])],-1)));function Aa(t,e,s,a,r,o){return(0,n.wg)(),(0,n.iD)("div",$a,[(0,n._)("div",{class:"cursor arrow_back_text",onClick:e[0]||(e[0]=t=>this.$router.back())},[Ua,(0,n._)("span",null,(0,i.zw)(s.text),1)])])}var ja={props:{text:String},data(){return{}},components:{},methods:{}};const Fa=(0,H.Z)(ja,[["render",Aa],["__scopeId","data-v-4895567d"]]);var za=Fa,Ha={data(){return{content:""}},created(){this.fetchPageContent(this.$route.params.name)},components:{BackLink:za},watch:{"$route.params.name":"fetchPageContent"},methods:{async fetchPageContent(t){if(this.$route.path.startsWith("/page/"))if(t)try{this.content=(await $e.getPageContent(t)).content}catch(e){Ta.showTextModal("Страница не найдена"),this.$router.back()}else this.$router.push("/login")}}};const Na=(0,H.Z)(Ha,[["render",la]]);var Pa=Na;const Ba={class:"templ_bg bg__blue pb-2"},Oa={class:"container"},Ra={class:"d-flex flex-column justify-content-center",style:{"min-height":"100vh"}},Ea={class:"col-12 col-sm-10 col-md-8 col-lg-6 m-auto mt-5 text-white"},qa={class:"d-flex justify-content-center g-5 align-items-center mb-2 mb-sm-4"},Wa={class:"text-center"},Va={key:0,class:"px-sm-3 text-center"},Ya=["src"],Ka={class:"d-flex justify-content-end me-3 mb-0"},Za={key:0,class:"d-flex justify-content-center"};function Ja(t,e,s,a,r,o){const l=(0,n.up)("BackLink"),c=(0,n.up)("swiper-slide"),u=(0,n.up)("swiper");return(0,n.wg)(),(0,n.iD)("div",Ba,[(0,n._)("div",Oa,[(0,n._)("div",Ra,[(0,n._)("div",Ea,[(0,n._)("div",qa,[(0,n.Wm)(l,{text:""}),(0,n._)("h4",Wa,(0,i.zw)(r.newsText.header),1)]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.news.results,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.id},[(0,n._)("div",{class:(0,i.C_)(["templ-item__bg px-1 mb-3 ms-1 me-1",{"d-flex justify-content-between py-2 align-items-center":!t.text.length&&!t.images.length,"py-3":t.text.length||t.images.length}])},[(0,n._)("h5",{class:(0,i.C_)(["text-center mb-0",{"mb-4":t.text.length||t.images.length,"ps-2":!t.text.length&&!t.images.length}])},(0,i.zw)(t.title),3),t.text.length?((0,n.wg)(),(0,n.iD)("p",Va,(0,i.zw)(t.text),1)):(0,n.kq)("",!0),t.images.length?((0,n.wg)(),(0,n.j4)(u,{key:1,class:"",style:{"vertical-align":"baseline"},modules:a.modules,"slides-per-view":1,"space-between":0,loop:!0,navigation:"",pagination:{clickable:!0}},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.images,((t,e)=>((0,n.wg)(),(0,n.j4)(c,{key:e,class:"align-items-center text-center"},{default:(0,n.w5)((()=>[(0,n._)("img",{class:"templ-item__bg slide__image mx-auto",src:t.image,alt:"",style:{"object-fit":"cover"}},null,8,Ya)])),_:2},1024)))),128))])),_:2},1032,["modules"])):(0,n.kq)("",!0),(0,n._)("p",Ka,(0,i.zw)(o.format_date(t.publish_date)),1)],2)])))),128))]),r.news.next?((0,n.wg)(),(0,n.iD)("div",Za,[(0,n._)("button",{onClick:e[0]||(e[0]=(...t)=>o.loadMore&&o.loadMore(...t)),class:"btn btn-primary"},(0,i.zw)(r.newsText.load_more),1)])):(0,n.kq)("",!0)])])])}var Xa={data(){return{news:{next:"",results:[]},current_page:1,page_size:4,newsText:{}}},created(){this.newsText=We,this.addNews()},components:{BackLink:za,Swiper:Ps.tq,SwiperSlide:Ps.o5},setup(){return{modules:[Ns.W_,Ns.tl,Ns.s5]}},methods:{format_date(t){if(""===t)return"";const e=t.split("-");return e[2][0]+e[2][1]+"."+e[1]+"."+e[0]},async addNews(){try{const t=await Ee.getNews(this.page_size,this.current_page);this.news.next=t.next;for(let e=0;e<t.results.length;++e)this.news.results.push(t.results[e])}catch(t){1===this.current_page?(Ta.showTextModal("Не удалось получить новости"),this.$router.back()):this.news.next=null}},loadMore(){this.current_page=this.current_page+1,this.news.next=null,this.addNews()}}};const Ga=(0,H.Z)(Xa,[["render",Ja],["__scopeId","data-v-fe7221a8"]]);var Qa=Ga;const tn={class:"templ_bg bg__blue"},en={class:"container"},sn={class:"row d-flex flex-column-reverse flex-lg-row align-items-center justify-content-evenly",style:{"min-height":"100vh"}},an=["innerHTML"],nn={class:"mb-3 input-box"},rn=(0,n._)("label",{for:"email",class:"form-label"},"Email",-1),on={class:"mb-3 pass-eye"},ln=(0,n._)("label",{for:"password",class:"form-label"},"Пароль",-1),cn=["type"],un={class:"d-flex justify-content-center mb-2 align-items-center"},dn={type:"submit",class:"btn btn-primary"},pn={class:"d-flex justify-content-center align-items-center"},hn={class:"my-auto"},mn={class:"d-flex justify-content-center align-items-center"},_n={class:"my-0 mt-1"},gn={class:"d-flex justify-content-center align-items-center"},wn={class:"my-0 mt-1"},yn=["href"];function fn(t,e,s,r,o,l){const c=(0,n.up)("router-link"),u=(0,n.up)("NewsBar");return(0,n.wg)(),(0,n.iD)("div",tn,[(0,n._)("div",en,[(0,n._)("div",sn,[(0,n._)("form",{onSubmit:e[3]||(e[3]=(0,a.iM)(((...t)=>l.loginUser&&l.loginUser(...t)),["prevent"])),novalidate:"",class:"my-auto form-template py-2"},[(0,n._)("h2",{class:"mb-1 text-blue text-center fs-6 pt-3 pb-3",innerHTML:o.generalText.header},null,8,an),(0,n._)("div",nn,[rn,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.email=t),type:"email",class:(0,i.C_)(["input",{"border-danger":!o.isCorrect.email}]),id:"email",style:{width:"100%"}},null,2),[[a.nr,o.email]])]),(0,n._)("div",on,[ln,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.password=t),type:o.isShowPass?"text":"password",class:(0,i.C_)(["input pass-eye__inp",{"border-danger":!this.isCorrect.password}]),id:"password",style:{width:"100%"}},null,10,cn),[[a.YZ,o.password]]),(0,n._)("span",{onClick:e[2]||(e[2]=t=>o.isShowPass=!o.isShowPass),class:(0,i.C_)(["pass-eye__btn",{active:o.isShowPass}])},null,2)]),(0,n._)("div",un,[(0,n.Wm)(c,{to:"/forgot-password",class:"me-3 text-white link hover-btn"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(o.loginText.forgot_pass_button),1)])),_:1}),(0,n._)("button",dn,(0,i.zw)(o.loginText.login_button),1)]),(0,n._)("div",pn,[(0,n._)("p",hn,[(0,n.Uk)((0,i.zw)(o.loginText.button_to_reg_about)+" ",1),(0,n.Wm)(c,{class:"text-white link hover-btn",to:"/reg"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(o.loginText.button_to_reg),1)])),_:1})])]),(0,n._)("div",mn,[(0,n._)("p",_n,[(0,n.Uk)((0,i.zw)(o.loginText.button_to_question_about)+" ",1),(0,n.Wm)(c,{class:"text-white link hover-btn",to:"/call-back"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(o.loginText.button_to_question),1)])),_:1})])]),(0,n._)("div",gn,[(0,n._)("p",wn,[(0,n.Uk)((0,i.zw)(o.loginText.email_contact_about)+" ",1),(0,n._)("a",{class:"text-white link hover-btn",href:"mailto:"+o.generalText.email_contact,target:"_blank"},(0,i.zw)(o.generalText.email_contact),9,yn)])])],32),(0,n.Wm)(u,{class:"col-lg-3 mb-3 mb-sm-0",classes:"flex-lg-column"})])])])}const kn={changeUserData:vn,getLkInfo:Dn,getSkills:bn,postSkills:xn,changePassword:Cn};async function vn(t){return Np("put","personal_cabinet/",t)}async function bn(){return Np("get","skill/",null,!1)}async function xn(t){return Np("post","skill/",{categories:t})}async function Dn(){const t=await Np("get","personal_cabinet/");t.skills=[];for(let e=0;e<t.categories.length;++e)for(let s=0;s<t.categories[e].skills.length;++s)t.skills.push(t.categories[e].skills[s]);return localStorage.setItem("user_data",JSON.stringify(t)),t}async function Cn(t,e,s){return Np("put","change_password/",{current_password:t,new_password:e,recaptchaToken:s})}const Tn={header:"НОВЫЙ ШАГ: НАЧАЛО ТВОЕГО ПУТИ<br>В ЦИФРОВЫХ ПРОФЕССИЯХ",email_contact:"nwstep@internet.ru"};var Sn={name:"LoginPage",data(){return{email:"",password:"",isShowPass:!1,isCorrect:{email:!0,password:!0},email_changed:!1,password_changed:!1,generalText:{},loginText:{}}},components:{NewsBar:Ke},created(){this.$store.state.auth.status.loggedIn&&this.$store.dispatch("auth/logout"),this.generalText=Tn,this.loginText=At},methods:{async loginUser(){const{email:t,password:e}=this;if(!this.checkData())return!1;try{await this.$store.dispatch("auth/login",{email:t,password:e})}catch(s){return void this.$store.dispatch("alert/sendMessage",{message:s,type:"Danger"})}this.$store.dispatch("alert/sendMessage",{message:"Авторизация прошла успешно",type:"Success"});try{await kn.getLkInfo()}catch(a){return void this.$store.dispatch("alert/sendMessage",{message:"Авторизация отменена",type:"Danger"})}this.$store.dispatch("notify/start"),this.$router.push("/")},checkData(){return this.isCorrect.email=rt.checkIsEmail(this.email),this.isCorrect.password=!rt.checkIsEmptyStr(this.password),this.isCorrect.email&&this.isCorrect.password}}};const Mn=(0,H.Z)(Sn,[["render",fn]]);var In=Mn;const Ln={class:"templ_bg bg__blue"},$n={class:"container"},Un={class:"row",style:{"min-height":"100vh"}},An={class:"step mt-2"},jn=["innerHTML"],Fn={class:"text-center mx-auto"},zn={class:"mx-lg-auto mb-3"},Hn={class:"line m-0 pb-0 text-center"},Nn={class:"step mt-2"},Pn=["innerHTML"],Bn={class:"mx-lg-auto mb-3"},On={class:"line m-0 pb-0 text-center"},Rn={class:"d-flex justify-content-center my-3"},En={class:"step mt-2"},qn=["innerHTML"],Wn={class:"mx-lg-auto mb-3"},Vn={class:"line m-0 pb-0 text-center"},Yn={class:"text-danger fw-bold"},Kn={class:"d-flex justify-content-center my-3"},Zn={class:"step mt-2"},Jn=["innerHTML"],Xn={class:"mx-lg-auto mb-3"},Gn={class:"line m-0 pb-0 text-center"},Qn={class:"step mt-2"},ti=["innerHTML"],ei={class:"text-center mx-auto"},si={class:"mb-3 input-box"},ai=(0,n._)("label",{for:"email",class:"form-label"},[(0,n.Uk)("Email "),(0,n._)("span",{class:"text-danger"},"*")],-1),ni={class:"form-check mb-3"},ii={class:"form-check-label",for:"confirm_person_data"},ri={class:"d-flex justify-content-center mb-2"},oi={type:"submit",class:"btn btn-primary mx-auto"};function li(t,e,s,r,o,l){const c=(0,n.up)("FirstStepInputs"),u=(0,n.up)("FooterReg"),d=(0,n.up)("SecondStepInputs"),p=(0,n.up)("ThirdStepInputs"),h=(0,n.up)("FourStepInputs"),m=(0,n.up)("YandexCaptcha"),_=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",Ln,[(0,n._)("div",$n,[(0,n._)("div",Un,[-1!==o.step?((0,n.wg)(),(0,n.iD)("form",{key:0,onSubmit:e[2]||(e[2]=(0,a.iM)(((...t)=>l.registration&&l.registration(...t)),["prevent"])),novalidate:"",class:"m-auto form-template"},[(0,n.Wm)(a.uT,{name:"slide-fade"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("div",An,[(0,n._)("h2",{class:"mb-1 text-blue text-center fs-6 pt-3 pb-3",innerHTML:o.generalText.header},null,8,jn),(0,n._)("div",null,[(0,n._)("p",Fn,(0,i.zw)(o.regText.hello_text1),1),(0,n._)("div",zn,[(0,n._)("p",Hn,(0,i.zw)(o.regText.hello_text2),1)])]),(0,n.Wm)(c,{userData:o.userData,isCorrect:o.isCorrect,ref:"FirstStepComponent"},null,8,["userData","isCorrect"]),(0,n.Wm)(u,{step:o.step,onNextStep:l.nextStep,onBackStep:l.backStep},null,8,["step","onNextStep","onBackStep"])],512),[[a.F8,1===o.step]])])),_:1}),(0,n.Wm)(a.uT,{name:"slide-fade"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("div",Nn,[(0,n._)("h2",{class:"mb-1 text-blue text-center fs-6 pt-3 pb-3",innerHTML:o.generalText.header},null,8,Pn),(0,n._)("div",null,[(0,n._)("div",Bn,[(0,n._)("p",On,(0,i.zw)(o.regText.where_you_study),1)])]),(0,n.Wm)(d,{userData:o.userData,out_utility:o.utility,isCorrect:o.isCorrect,ref:"SecondStepComponent"},null,8,["userData","out_utility","isCorrect"]),(0,n._)("div",Rn,[(0,n._)("button",{onClick:e[0]||(e[0]=t=>{o.step=3,o.selectedInst=!1}),type:"button",class:"link text-white hover-btn mx-auto"},(0,i.zw)(o.regText.button_to_hand_stduy),1)]),(0,n.Wm)(u,{step:o.step,onNextStep:l.nextStep,onBackStep:l.backStep},null,8,["step","onNextStep","onBackStep"])],512),[[a.F8,2===o.step]])])),_:1}),(0,n.Wm)(a.uT,{name:"slide-fade"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("div",En,[(0,n._)("h2",{class:"mb-1 text-blue text-center fs-6 pt-3 pb-3",innerHTML:o.generalText.header},null,8,qn),(0,n._)("div",null,[(0,n._)("div",Wn,[(0,n._)("p",Vn,(0,i.zw)(o.regText.where_you_study),1)])]),(0,n.Wm)(p,{userData:o.userData,isCorrect:o.isCorrect,ref:"ThirdStepComponent"},null,8,["userData","isCorrect"]),(0,n._)("p",Yn,(0,i.zw)(o.regText.warning_about_fake_study),1),(0,n._)("div",Kn,[(0,n._)("button",{onClick:e[1]||(e[1]=t=>{o.step=2,o.selectedInst=!0}),type:"button",class:"link text-white hover-btn mx-auto"},(0,i.zw)(o.regText.button_to_auto_study),1)]),(0,n.Wm)(u,{step:o.step,onNextStep:l.nextStep,onBackStep:l.backStep},null,8,["step","onNextStep","onBackStep"])],512),[[a.F8,3===o.step]])])),_:1}),(0,n.Wm)(a.uT,{name:"slide-fade"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("div",Zn,[(0,n._)("h2",{class:"mb-1 text-blue text-center fs-6 pt-3 pb-3",innerHTML:o.generalText.header},null,8,Jn),(0,n._)("div",null,[(0,n._)("div",Xn,[(0,n._)("p",Gn,(0,i.zw)(o.regText.run_to_finaly),1)])]),(0,n.Wm)(h,{userData:o.userData,isCorrect:o.isCorrect,ref:"FourStepComponent"},null,8,["userData","isCorrect"]),o.isViewCaptcha3?((0,n.wg)(),(0,n.j4)(m,{key:0,ref:"yancaptcha3",captchaId:"yancaptcha-3"},null,512)):(0,n.kq)("",!0),(0,n.Wm)(u,{step:o.step,onBackStep:l.backStep},null,8,["step","onBackStep"])],512),[[a.F8,4===o.step]])])),_:1})],32)):((0,n.wg)(),(0,n.iD)("form",{key:1,onSubmit:e[6]||(e[6]=(0,a.iM)(((...t)=>l.reg_hand&&l.reg_hand(...t)),["prevent"])),novalidate:"",class:"m-auto form-template"},[(0,n.Wm)(a.uT,{name:"slide-fade"},{default:(0,n.w5)((()=>[(0,n._)("div",Qn,[(0,n._)("h2",{class:"mb-1 text-blue text-center fs-6 pt-3 pb-3",innerHTML:o.generalText.header},null,8,ti),(0,n._)("div",null,[(0,n._)("p",ei,(0,i.zw)(o.regText.about_auto_reg),1)]),(0,n.Wm)(c,{isCorrect:o.isCorrectAutoReg,ref:"FirstStepComponentAutoReg"},null,8,["isCorrect"]),(0,n.Wm)(p,{isCorrect:o.isCorrectAutoReg,ref:"ThirdStepComponentAutoReg"},null,8,["isCorrect"]),(0,n._)("div",si,[ai,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.autoReg.email=t),type:"email",class:"input",id:"email",style:{width:"100%"}},null,512),[[a.nr,o.autoReg.email]])]),(0,n._)("div",ni,[(0,n.wy)((0,n._)("input",{onChange:e[4]||(e[4]=(...e)=>t.confirmPersonalDataChanged&&t.confirmPersonalDataChanged(...e)),"onUpdate:modelValue":e[5]||(e[5]=t=>o.autoReg.confirm_personal_data=t),class:"form-check-input",type:"checkbox",id:"confirm_person_data"},null,544),[[a.e8,o.autoReg.confirm_personal_data]]),(0,n._)("label",ii,[(0,n.Uk)((0,i.zw)(o.regText.personal_data_about)+" ",1),(0,n.Wm)(_,{class:"text-white link hover-btn",to:"/page/privacy"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(o.regText.personal_data_link),1)])),_:1})])]),o.isViewCaptcha2?((0,n.wg)(),(0,n.j4)(m,{key:0,ref:"yancaptcha2",captchaId:"yancaptcha-2"},null,512)):(0,n.kq)("",!0),(0,n._)("div",ri,[(0,n._)("button",oi,(0,i.zw)(o.regText.button_reg),1)]),(0,n.Wm)(u,{step:o.step,onNextStep:l.nextStep},null,8,["step","onNextStep"])])])),_:1})],32))])])])}function ci(t,e,s,a,i,r){const o=(0,n.up)("SmartCaptcha");return(0,n.wg)(),(0,n.j4)(o,{sitekey:i.sitekey,callback:r.setToken,"on-token-expired":r.resetToken,"on-network-error":r.resetToken,id:s.captchaId},null,8,["sitekey","callback","on-token-expired","on-network-error","id"])}var ui=s(6056),di={props:{captchaId:{type:String,required:!0}},data(){return{token:"",sitekey:"ysc1_26Hz0UU9y8eQGwf68hrkVq1ZwWa7SOq4LUjHtFiW05c21582"}},components:{SmartCaptcha:ui.x},methods:{getToken(){return this.token},setToken(t){this.token=t},resetToken(){this.token=""}}};const pi=(0,H.Z)(di,[["render",ci]]);var hi=pi;const mi={class:"d-flex flex-column flex-lg-row g-5 justify-content-center mb-lg-2 mb-3"},_i={class:"d-flex flex-column ms-lg-4 align-items-center"},gi={class:"mb-3 col-ms-2 input-box"},wi=(0,n._)("label",{for:"last_name",class:"form-label"},[(0,n.Uk)("Фамилия "),(0,n._)("span",{class:"text-danger"},"*")],-1),yi={class:"mb-3 input-box"},fi=(0,n._)("label",{for:"first_name",class:"form-label"},[(0,n.Uk)("Имя "),(0,n._)("span",{class:"text-danger"},"*")],-1),ki={class:"mb-3 input-box"},vi=(0,n._)("label",{for:"middle_name",class:"form-label"},"Отчество",-1),bi={class:"d-flex flex-column align-items-center align-items-lg-start"},xi={class:"mb-3 input-box"},Di=(0,n._)("label",{for:"phone_number",class:"form-label"},[(0,n.Uk)("Телефон "),(0,n._)("span",{class:"text-danger"},"*")],-1),Ci={class:""},Ti=(0,n._)("p",{class:"mb-1"},"Пол",-1),Si={class:"d-flex flex-lg-column justify-content-lg-evenly justify-content-center"},Mi={class:"form-check me-5 me-lg-0"},Ii=(0,n._)("label",{class:"form-check-label",for:"M"},"Мужской",-1),Li={class:"form-check"},$i=(0,n._)("label",{class:"form-check-label",for:"F"},"Женский",-1);function Ui(t,e,s,r,o,l){return(0,n.wg)(),(0,n.iD)("div",mi,[(0,n._)("div",_i,[(0,n._)("div",gi,[wi,(0,n.wy)((0,n._)("input",{onInput:e[0]||(e[0]=t=>l.onlyKirillik("last_name")),"onUpdate:modelValue":e[1]||(e[1]=t=>o.userDataFirst.last_name=t),type:"text",class:(0,i.C_)(["input",{"border-danger":!s.isCorrect.last_name}]),id:"last_name"},null,34),[[a.nr,o.userDataFirst.last_name]])]),(0,n._)("div",yi,[fi,(0,n.wy)((0,n._)("input",{onInput:e[2]||(e[2]=t=>l.onlyKirillik("first_name")),"onUpdate:modelValue":e[3]||(e[3]=t=>o.userDataFirst.first_name=t),type:"text",class:(0,i.C_)(["input",{"border-danger":!s.isCorrect.first_name}]),id:"first_name"},null,34),[[a.nr,o.userDataFirst.first_name]])]),(0,n._)("div",ki,[vi,(0,n.wy)((0,n._)("input",{onInput:e[4]||(e[4]=t=>l.onlyKirillik("middle_name")),"onUpdate:modelValue":e[5]||(e[5]=t=>o.userDataFirst.middle_name=t),type:"text",class:(0,i.C_)(["input",{"border-danger":!s.isCorrect.middle_name}]),id:"middle_name"},null,34),[[a.nr,o.userDataFirst.middle_name]])])]),(0,n._)("div",bi,[(0,n._)("div",xi,[Di,(0,n.wy)((0,n._)("input",{onInput:e[6]||(e[6]=(...t)=>l.checkTel&&l.checkTel(...t)),"onUpdate:modelValue":e[7]||(e[7]=t=>o.userDataFirst.phone_number=t),maxlength:"12",type:"tel",class:(0,i.C_)(["input",{"border-danger":!s.isCorrect.phone_number}]),id:"phone_number",placeholder:"+7XXXXXXXXXX"},null,34),[[a.nr,o.userDataFirst.phone_number]])]),(0,n._)("div",Ci,[Ti,(0,n._)("div",Si,[(0,n._)("div",Mi,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>o.userDataFirst.sex=t),class:"form-check-input",type:"radio",name:"sex",id:"M",value:"M",checked:""},null,512),[[a.G2,o.userDataFirst.sex]]),Ii]),(0,n._)("div",Li,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>o.userDataFirst.sex=t),class:"form-check-input",type:"radio",name:"sex",id:"F",value:"F"},null,512),[[a.G2,o.userDataFirst.sex]]),$i])])])])])}var Ai={props:{userData:Object,isCorrect:Object,updateUserData:Function},data(){return{userDataFirst:{last_name:"",first_name:"",middle_name:"",phone_number:"",sex:"M"}}},components:{},created(){this.userData&&(this.userDataFirst.last_name=this.userData.last_name,this.userDataFirst.first_name=this.userData.first_name,this.userDataFirst.middle_name=this.userData.middle_name,this.userDataFirst.phone_number=this.userData.phone_number,this.userDataFirst.sex=this.userData.sex),this.userDataFirst.sex||(this.userDataFirst.sex="M")},methods:{checkTel(){this.userDataFirst.phone_number=rt.correctiongTel(this.userDataFirst.phone_number)},onlyKirillik(t){this.userDataFirst[t]=this.userDataFirst[t].replace(/[^а-яА-Я ]/g,"")},getData(){return this.userDataFirst}}};const ji=(0,H.Z)(Ai,[["render",Ui]]);var Fi=ji;const zi={class:""},Hi=(0,n._)("option",{value:"-1",selected:""},"Тип учебного заведения",-1),Ni=["value"],Pi=(0,n._)("option",{value:"-1",selected:""},"Название учебного заведения",-1),Bi=["value"],Oi={key:1},Ri=["innerHTML"],Ei=["innerHTML"],qi=(0,n._)("option",{value:"-1",selected:""},"Факультет",-1),Wi=["value"],Vi=(0,n._)("option",{value:"-1",selected:""},"Направление",-1),Yi=["value"],Ki={key:4,class:"mb-3"},Zi=(0,n._)("label",{for:"year",class:"form-label"},[(0,n.Uk)("Курс"),(0,n._)("span",{class:"text-danger"},"*")],-1);function Ji(t,e,s,r,o,l){return(0,n.wg)(),(0,n.iD)("div",zi,[(0,n.wy)((0,n._)("select",{onChange:e[0]||(e[0]=t=>{l.getUnivers()}),class:(0,i.C_)(["form-select mb-3",{"border-danger":!this.isCorrect.currentTypeInst}]),"onUpdate:modelValue":e[1]||(e[1]=t=>o.userDataSecond.currentTypeInst=t)},[Hi,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.utility.listTypeInst,(t=>((0,n.wg)(),(0,n.iD)("option",{value:t.id,key:t.id},(0,i.zw)(t.name),9,Ni)))),128))],34),[[a.bM,o.userDataSecond.currentTypeInst]]),"-1"!==o.userDataSecond.currentTypeInst&&o.utility.listInst.length?(0,n.wy)(((0,n.wg)(),(0,n.iD)("select",{key:0,onChange:e[2]||(e[2]=t=>{l.getFacults()}),class:(0,i.C_)(["form-select mb-3",{"border-danger":!this.isCorrect.currentInst}]),"onUpdate:modelValue":e[3]||(e[3]=t=>o.userDataSecond.currentInst=t)},[Pi,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.utility.listInst,(t=>((0,n.wg)(),(0,n.iD)("option",{value:t.id,key:t.id},(0,i.zw)(t.institution_name),9,Bi)))),128))],34)),[[a.bM,o.userDataSecond.currentInst]]):(0,n.kq)("",!0),"-1"===o.userDataSecond.currentTypeInst||o.utility.listInst.length?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",Oi,["/reg"===this.$route.path?((0,n.wg)(),(0,n.iD)("p",{key:0,class:"text-danger fw-bold",innerHTML:o.regText.dont_find_inst1},null,8,Ri)):(0,n.kq)("",!0),"/LK"===this.$route.path?((0,n.wg)(),(0,n.iD)("p",{key:1,class:"text-danger fw-bold",innerHTML:o.regText.dont_find_inst2},null,8,Ei)):(0,n.kq)("",!0)])),"-1"!==o.userDataSecond.currentInst&&o.utility.listFacult.length>1?(0,n.wy)(((0,n.wg)(),(0,n.iD)("select",{key:2,onChange:e[4]||(e[4]=t=>{l.getSpecs()}),class:(0,i.C_)(["form-select mb-3",{"border-danger":!this.isCorrect.currentFacult}]),"onUpdate:modelValue":e[5]||(e[5]=t=>o.userDataSecond.currentFacult=t)},[qi,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.utility.listFacult,(t=>((0,n.wg)(),(0,n.iD)("option",{value:t.id,key:t.id},(0,i.zw)(t.faculty_name),9,Wi)))),128))],34)),[[a.bM,o.userDataSecond.currentFacult]]):(0,n.kq)("",!0),"-1"!==o.userDataSecond.currentFacult&&o.utility.listSpec.length>1?(0,n.wy)(((0,n.wg)(),(0,n.iD)("select",{key:3,class:(0,i.C_)(["form-select mb-3",{"border-danger":!this.isCorrect.currentSpec}]),"onUpdate:modelValue":e[6]||(e[6]=t=>o.userDataSecond.currentSpec=t)},[Vi,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.utility.listSpec,(t=>((0,n.wg)(),(0,n.iD)("option",{value:t.id,key:t.id},(0,i.zw)(t.specialty_name),9,Yi)))),128))],2)),[[a.bM,o.userDataSecond.currentSpec]]):(0,n.kq)("",!0),this.utility.maxYear?((0,n.wg)(),(0,n.iD)("div",Ki,[Zi,(0,n.wy)((0,n._)("input",{onInput:e[7]||(e[7]=(...t)=>l.checkCorrectYear&&l.checkCorrectYear(...t)),"onUpdate:modelValue":e[8]||(e[8]=t=>o.userDataSecond.year=t),inputmode:"numeric",pattern:"\\d*",maxlength:"2",type:"number",class:"form-control",id:"year",style:{width:"5em"}},null,544),[[a.nr,o.userDataSecond.year]])])):(0,n.kq)("",!0)])}const Xi={getVerificeAcc:Qi,sendEducationReport:tr,sendSourse:er,postSendEmailForChangePass:sr,getEducationType:nr,getUnivers:ir,getFacults:rr,getSpecialty:or,register:ar,genPass:Gi};async function Gi(){return(await Np("get","gen_pass/",null,!1)).password}async function Qi(t,e){return Np("get",`activate/${t}/${e}/`,null,!1)}async function tr(t,e,s){return Np("post","education_report/",{source:t,category:e,recaptchaToken:s})}async function er(t){return Np("get",`qr/?source=${t}`,null,!1)}async function sr(t,e){return Np("post","reset_password/",{email:t,recaptchaToken:e},!1)}async function ar(t,e){return await Np("post","register/",{email:t.email,password:t.password,first_name:t.first_name,last_name:t.last_name,middle_name:t.middle_name,sex:t.sex,birth_date:"1000-01-01",institution:t.currentInst,faculty:t.currentFacult,specialty:t.currentSpec,phone_number:t.phone_number,year:t.year,recaptchaToken:e},!1),{message:"Регистрация прошла успешно"}}async function nr(){return Np("get","education_type/",null,!1)}async function ir(t){return Np("get",`institutions/${t}/`,null,!1)}async function rr(t){return Np("get",`faculties/${t}/`,null,!1)}async function or(t,e){return Np("get",`specialty/${t}/${e}/`,null,!1)}const lr={hello_text1:"Привет! Это верный адрес, отсюда начинается твоё будущее в профессиональных информационных технологиях.",hello_text2:"Давай знакомиться:",where_you_study:"Где ты учишься?",button_to_hand_stduy:"Добавить вручную",button_to_auto_study:"Вернуться к списку",warning_about_fake_study:"Если будет указано несуществующее учебное заведение, то мы оставляем за собой право удалить зарегистрированный аккаунт.",run_to_finaly:"Почти готово",about_auto_reg:"Возникли проблемы при регистрации? Заполни все необходимые поля, и мы сами зарегистрируем тебя!",personal_data_about:"Подтверждаю свое согласие с условиями ",personal_data_link:"обработки персональных данных.",error_fill_all_fields:"Заполни все поля!",auto_reg_request_ok:"Заявка на регистрацию отправлена. Мы зарегистрируем тебя в течении недели. На почту придет 2 письма: одно с ссылкой для подтверждения аккаунта, второе с паролем для входа.",auto_reg_request_fail:"Не удалось отправить заявку на регистрацию. Возможны неполадки на сервере, попробуйте позднее.",dont_confirm_pass:"Не верно повторен пароль",edu_report_ok:"Заявка на добавление учебного заведения отправлена. После модерации твое учебное заведение отобразиться в личном кабинете.",edu_report_fail:"Не удалось отправить заявку на добавление учебного заведения. После авторизации перейди на форму обратной связи и оставь данные о своем учебном заведении там.",register_ok:"Регистрация аккаунта прошла успешно. Тебе на почту пришло письмо с ссылкой для активации аккаунта. После этого ты сможешь авторизоваться.",header_reg_fail:"Необходимо исправить следующие ошибки:",dont_find_inst1:'Учебных заведений с данным типом нет в нашей базе данных. <br> Нажми "Добавить вручную".',dont_find_inst2:"Учебных заведений с данным типом нет в нашей базе данных. <br> Перейди на форму обратной связи и оставь данные о своем учебном заведении.",password_ruls:"Длина пароля не менее 8 символов\nПароль не должен быть слишком распространенным\nПароль должен содержать как минимум одну: \n    цифру\n    букву в верхнем регистре\n    букву в нижнем регистре",password_ruls_html:'<ul class="text-blue"><li>Длина пароля не менее 8 символов</li><li>Пароль не должен быть слишком распространенным</li><li>Пароль должен содержать как минимум одну: <ul><li>цифру</li><li>букву в верхнем регистре</li><li>букву в нижнем регистре</li></ul></li></ul>',backStep1:"Назад",backStep2:"Ручная регистрация",nextStep1:"Следующий шаг",nextStep2:"Вернуться к стандартной регистрации",about_backStep2:"Возникли проблемы при регистрации?",login:"Войти",about_login:"Уже есть аккаунт?",button_reg:"Зарегистрироваться"};var cr={props:{userData:Object,out_utility:Object,isCorrect:Object},data(){return{regText:{},userDataSecond:{currentTypeInst:"-1",currentInst:"-1",currentFacult:"-1",currentSpec:"-1",year:1},utility:{listTypeInst:[],listInst:[],listFacult:[],listSpec:[],maxYear:0}}},components:{},async created(){try{this.utility.listTypeInst=await Xi.getEducationType()}catch(t){Ta.showTextModal(t.response.data),this.$router.push("/login")}this.regText=lr,this.out_utility&&this.userData&&(Object.assign(this.utility,this.out_utility),this.userDataSecond.currentTypeInst=this.userData.currentTypeInst||"-1",this.userDataSecond.currentInst=this.userData.currentInst||"-1",this.userDataSecond.currentFacult=this.userData.currentFacult||"-1",this.userDataSecond.currentSpec=this.userData.currentSpec||"-1",this.userDataSecond.year=this.userData.year||1)},methods:{getData(){return{userData:this.userDataSecond,utility:this.utility}},call_alert_error(){const t="Возникла ошибка, попробуйте обновить страницу";this.$store.dispatch("alert/sendMessage",{message:t,type:"Danger"})},async getUnivers(){if(this.utility.listInst=[],this.utility.listFacult=[],this.utility.listSpec=[],this.userDataSecond.currentInst="-1",this.userDataSecond.currentFacult="-1",this.userDataSecond.currentSpec="-1","-1"===this.userDataSecond.currentTypeInst)return void(this.utility.maxYear=0);const t=this.utility.listTypeInst.find((t=>t.id===this.userDataSecond.currentTypeInst));this.utility.maxYear=t.max_year;try{this.utility.listInst=await Xi.getUnivers(t.id)}catch(e){this.call_alert_error()}},async getFacults(){if(this.utility.listFacult=[],this.utility.listSpec=[],this.userDataSecond.currentFacult="-1",this.userDataSecond.currentSpec="-1","-1"===this.userDataSecond.currentInst)return void(this.utility.listFacult=[]);const t=this.utility.listInst.find((t=>t.id===this.userDataSecond.currentInst));try{this.utility.listFacult=await Xi.getFacults(t.id)}catch(e){return void this.call_alert_error()}1===this.utility.listFacult.length&&(this.userDataSecond.currentFacult=this.utility.listFacult[0].id,this.getSpecs())},async getSpecs(){if(this.utility.listSpec=[],this.userDataSecond.currentSpec="-1","-1"===this.userDataSecond.currentFacult)return void(this.utility.listSpec=[]);const t=this.utility.listFacult.find((t=>t.id===this.userDataSecond.currentFacult));try{this.utility.listSpec=await Xi.getSpecialty(this.userDataSecond.currentInst,t.id)}catch(e){return void this.call_alert_error()}1===this.utility.listSpec.length&&(this.userDataSecond.currentSpec=this.utility.listSpec[0].id)},checkCorrectYear(){this.userDataSecond.year=Math.max(1,Math.min(this.userDataSecond.year,this.utility.maxYear))}}};const ur=(0,H.Z)(cr,[["render",Ji]]);var dr=ur;const pr={class:""},hr=(0,n._)("option",{value:"-1",selected:""},"Тип учебного заведения",-1),mr=["value"],_r={class:"mb-3 input-box d-flex flex-column g-2 justify-content-center align-items-center"},gr=(0,n._)("label",{for:"inst_name",class:"form-label"},[(0,n.Uk)("Название учебного заведения "),(0,n._)("span",{class:"text-danger"},"*")],-1),wr={class:"mb-3 input-box d-flex flex-column g-2 justify-content-center align-items-center"},yr=(0,n._)("label",{for:"faculty_name",class:"form-label"},"Факультет (если имеется)",-1),fr={class:"mb-3 input-box d-flex flex-column g-2 justify-content-center align-items-center"},kr=(0,n._)("label",{for:"spec_name",class:"form-label"},"Специальность (если имеется)",-1),vr={class:"mb-3"},br=(0,n._)("label",{for:"year_third",class:"form-label"},[(0,n.Uk)("Курс"),(0,n._)("span",{class:"text-danger"},"*")],-1);function xr(t,e,s,r,o,l){return(0,n.wg)(),(0,n.iD)("div",pr,[(0,n.wy)((0,n._)("select",{class:(0,i.C_)(["form-select mb-3",{"border-danger":!this.isCorrect.currentTypeInst_third}]),"onUpdate:modelValue":e[0]||(e[0]=t=>o.userDataThird.currentTypeInst_third=t)},[hr,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.utility.listTypeInst,(t=>((0,n.wg)(),(0,n.iD)("option",{value:t.id,key:t.id},(0,i.zw)(t.name),9,mr)))),128))],2),[[a.bM,o.userDataThird.currentTypeInst_third]]),(0,n._)("div",_r,[gr,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.userDataThird.inst_name=t),type:"text",class:(0,i.C_)(["input",{"border-danger":!s.isCorrect.inst_name}]),style:{width:"100%"},id:"inst_name"},null,2),[[a.nr,o.userDataThird.inst_name]])]),(0,n._)("div",wr,[yr,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.userDataThird.faculty_name=t),type:"text",class:"input",style:{width:"100%"},id:"faculty_name"},null,512),[[a.nr,o.userDataThird.faculty_name]])]),(0,n._)("div",fr,[kr,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.userDataThird.spec_name=t),type:"text",class:"input",style:{width:"100%"},id:"spec_name"},null,512),[[a.nr,o.userDataThird.spec_name]])]),(0,n._)("div",vr,[br,(0,n.wy)((0,n._)("input",{onInput:e[4]||(e[4]=t=>{o.userDataThird.year_third=Math.max(1,Math.min(o.userDataThird.year_third,11))}),"onUpdate:modelValue":e[5]||(e[5]=t=>o.userDataThird.year_third=t),inputmode:"numeric",pattern:"\\d*",maxlength:"2",type:"number",class:"form-control",id:"year_third",style:{width:"5em"}},null,544),[[a.nr,o.userDataThird.year_third]])])])}var Dr={props:{userData:Object,isCorrect:Object},data(){return{userDataThird:{currentTypeInst_third:"-1",inst_name:"",faculty_name:"",spec_name:"",year_third:1},utility:{}}},components:{},async created(){try{this.utility.listTypeInst=await Xi.getEducationType()}catch(e){Ta.showTextModal(e.response.data),this.$router.push("/login")}const t=this.userData&&this.userData.currentTypeInst_third&&this.userData.inst_name&&this.userData.year_third;t&&(this.userDataThird.currentTypeInst_third=this.userData.currentTypeInst_third,this.userDataThird.inst_name=this.userData.inst_name,this.userDataThird.faculty_name=this.userData.faculty_name,this.userDataThird.spec_name=this.userData.spec_name,this.userDataThird.year_third=this.userData.year_third)},methods:{getData(){return{userData:this.userDataThird,utility:this.utility}},getType(){const t=this.utility.listTypeInst.find((t=>t.id===this.userDataThird.currentTypeInst_third));if(t&&t.name)return t.name}}};const Cr=(0,H.Z)(Dr,[["render",xr]]);var Tr=Cr,Sr=s.p+"img/settings.3b6d46b5.svg";const Mr={class:""},Ir={class:"mb-3 input-box"},Lr=(0,n._)("label",{for:"email",class:"form-label"},[(0,n.Uk)("Email "),(0,n._)("span",{class:"text-danger"},"*")],-1),$r={class:"mb-3 pass-eye"},Ur={class:"box-answer"},Ar=(0,n._)("label",{for:"password",class:"form-label"},[(0,n.Uk)("Пароль "),(0,n._)("span",{class:"text-danger"},"*")],-1),jr=["title"],Fr={class:"d-flex align-items-start",style:{"margin-top":"2px"}},zr=["type"],Hr=["innerHTML"],Nr={class:"mb-3 pass-eye"},Pr=(0,n._)("label",{for:"passwordConfirm",class:"form-label"},[(0,n.Uk)("Повтори пароль "),(0,n._)("span",{class:"text-danger"},"*")],-1),Br=["type"],Or={class:"form-check mb-3"},Rr={class:"form-check-label",for:"confirm_person_data"};function Er(t,e,s,r,o,l){const c=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",Mr,[(0,n._)("div",Ir,[Lr,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.userDataFour.email=t),type:"email",class:(0,i.C_)(["input",{"border-danger":!s.isCorrect.email}]),id:"email",style:{width:"100%"}},null,2),[[a.nr,o.userDataFour.email]])]),(0,n._)("div",$r,[(0,n._)("div",Ur,[Ar,(0,n._)("div",{class:(0,i.C_)(["answer",{"ans-active":o.tooltipVisible}]),title:o.regText.password_ruls,onClick:e[1]||(e[1]=t=>{o.tooltipVisible=!o.tooltipVisible})}," ? ",10,jr),(0,n._)("div",Fr,[(0,n._)("img",{class:"cursor",src:Sr,onClick:e[2]||(e[2]=(...t)=>l.genPassword&&l.genPassword(...t)),title:"Сгенерировать пароль",alt:"Сгенерировать пароль",style:{width:"20px"}})])]),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.userDataFour.password=t),type:o.utility.isShowPass?"text":"password",class:(0,i.C_)(["input pass-eye__inp",{"border-danger":!this.isCorrect.password}]),id:"password",style:{width:"100%"}},null,10,zr),[[a.YZ,o.userDataFour.password]]),(0,n._)("span",{onClick:e[4]||(e[4]=t=>o.utility.isShowPass=!o.utility.isShowPass),class:(0,i.C_)(["pass-eye__btn",{active:o.utility.isShowPass}])},null,2)]),o.tooltipVisible?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"custom-modal",onClick:e[5]||(e[5]=t=>{o.tooltipVisible=!o.tooltipVisible})},[(0,n._)("div",{class:"modal-content",innerHTML:o.regText.password_ruls_html},null,8,Hr)])):(0,n.kq)("",!0),(0,n._)("div",Nr,[Pr,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>o.userDataFour.passwordConfirm=t),type:o.utility.isShowConfirmPass?"text":"password",class:(0,i.C_)(["input pass-eye__inp",{"border-danger":!s.isCorrect.password}]),id:"passwordConfirm",style:{width:"100%"}},null,10,Br),[[a.YZ,o.userDataFour.passwordConfirm]]),(0,n._)("span",{onClick:e[7]||(e[7]=t=>o.utility.isShowConfirmPass=!o.utility.isShowConfirmPass),class:(0,i.C_)(["pass-eye__btn",{active:o.utility.isShowConfirmPass}])},null,2)]),(0,n._)("div",Or,[(0,n.wy)((0,n._)("input",{onChange:e[8]||(e[8]=(...e)=>t.confirmPersonalDataChanged&&t.confirmPersonalDataChanged(...e)),"onUpdate:modelValue":e[9]||(e[9]=t=>o.userDataFour.confirm_personal_data=t),class:(0,i.C_)([{"border-danger":!this.isCorrect.confirm_personal_data},"form-check-input"]),type:"checkbox",id:"confirm_person_data"},null,34),[[a.e8,o.userDataFour.confirm_personal_data]]),(0,n._)("label",Rr,[(0,n.Uk)((0,i.zw)(o.regText.personal_data_about)+" ",1),(0,n.Wm)(c,{class:"text-white link hover-btn",to:"/page/privacy"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(o.regText.personal_data_link),1)])),_:1})])])])}var qr={props:{userData:Object,isCorrect:Object},data(){return{regText:{},userDataFour:{email:"",password:"",passwordConfirm:"",confirm_personal_data:!1},utility:{isShowPass:!1,isShowConfirmPass:!1},tooltipVisible:!1}},components:{},created(){const t=this.userData.email&&this.userData.password&&this.userData.passwordConfirm&&this.userData.confirm_personal_data;t&&(this.userDataFour.email=this.userData.email,this.userDataFour.password=this.userData.password,this.userDataFour.passwordConfirm=this.userData.passwordConfirm,this.userDataFour.confirm_personal_data=this.userData.confirm_personal_data),this.regText=lr},methods:{async genPassword(){try{this.userDataFour.password=await Xi.genPass(),this.utility.isShowPass=!0}catch(t){if(500===t.response.status)this.$store.dispatch("alert/sendMessage",{message:t.response.data,type:"Danger"});else{const t="Возникла ошибка при генерации пароля";this.$store.dispatch("alert/sendMessage",{message:t,type:"Danger"})}}},getData(){return this.userDataFour}}};const Wr=(0,H.Z)(qr,[["render",Er]]);var Vr=Wr;const Yr={class:"d-flex justify-content-center mb-2"},Kr={key:3,type:"submit",class:"btn btn-primary"},Zr={key:0,class:"d-flex justify-content-center align-items-center"},Jr={class:"my-auto"},Xr={key:1,class:"d-flex flex-column justify-content-center align-items-center"},Gr={class:"my-0 mt-1"};function Qr(t,e,s,a,r,o){const l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",Yr,[1!==s.step&&-1!==s.step?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>o.backStep&&o.backStep(...t)),type:"button",class:"me-3 btn btn-light"},(0,i.zw)(r.regText.backStep1),1)):(0,n.kq)("",!0),4!==s.step&&-1!==s.step?((0,n.wg)(),(0,n.iD)("button",{key:1,onClick:e[1]||(e[1]=(...t)=>o.nextStep&&o.nextStep(...t)),type:"button",class:"btn btn-primary"},(0,i.zw)(r.regText.nextStep1),1)):(0,n.kq)("",!0),-1===s.step?((0,n.wg)(),(0,n.iD)("button",{key:2,onClick:e[2]||(e[2]=(...t)=>o.nextStep&&o.nextStep(...t)),class:"mb-5 btn p-0 text-decoration-underline text-white link hover-btn"},(0,i.zw)(r.regText.nextStep2),1)):(0,n.kq)("",!0),4===s.step?((0,n.wg)(),(0,n.iD)("button",Kr,(0,i.zw)(r.regText.button_reg),1)):(0,n.kq)("",!0)]),1===s.step?((0,n.wg)(),(0,n.iD)("div",Zr,[(0,n._)("p",Jr,(0,i.zw)(r.regText.about_login),1),(0,n.Wm)(l,{class:"btn text-decoration-underline text-white link hover-btn",to:"/login"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(r.regText.login),1)])),_:1})])):(0,n.kq)("",!0),1===s.step?((0,n.wg)(),(0,n.iD)("div",Xr,[(0,n._)("p",Gr,(0,i.zw)(r.regText.about_backStep2),1),(0,n._)("button",{onClick:e[3]||(e[3]=(...t)=>o.backStep&&o.backStep(...t)),class:"mb-2 btn p-0 text-decoration-underline text-white link hover-btn"},(0,i.zw)(r.regText.backStep2),1)])):(0,n.kq)("",!0)])}var to={props:{step:Number},data(){return{regText:{}}},components:{},created(){this.regText=lr},methods:{nextStep(){this.$emit("next-step")},backStep(){this.$emit("back-step")}}};const eo=(0,H.Z)(to,[["render",Qr]]);var so=eo;const ao={auto_reg:"auto_reg",new_institution:"new_institution",call_back:"call_back"};var no={props:{source:String},data(){return{regText:{},generalText:{},autoReg:{last_name:"",first_name:"",middle_name:"",phone_number:"",sex:"М",TypeInst:"",Inst:"",Facult:"",Spec:"",year:1,email:"",confirm_personal_data:!1},step:1,userData:{},isCorrectAutoReg:{last_name:!0,first_name:!0,middle_name:!0,phone_number:!0,currentTypeInst:!0,currentInst:!0,currentFacult:!0,currentSpec:!0,currentTypeInst_third:!0,inst_name:!0,email:!0,password:!0,confirm_personal_data:!0},isCorrect:{last_name:!0,first_name:!0,middle_name:!0,phone_number:!0,currentTypeInst:!0,currentInst:!0,currentFacult:!0,currentSpec:!0,currentTypeInst_third:!0,inst_name:!0,email:!0,password:!0,confirm_personal_data:!0},utility:{isShowPass:!1,isShowConfirmPass:!1},selectedInst:!0,isViewCaptcha2:!0,isViewCaptcha3:!0}},components:{FirstStepInputs:Fi,FooterReg:so,SecondStepInputs:dr,ThirdStepInputs:Tr,FourStepInputs:Vr,YandexCaptcha:hi},async created(){let t=.01*window.innerHeight;if(document.documentElement.style.setProperty("--vh",`${t}px`),window.addEventListener("resize",(()=>{let t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${t}px`)})),this.source)try{await Xi.sendSourse(this.source)}catch(e){console.log(this.source)}finally{this.$router.push("/reg")}this.$store.state.auth.status.loggedIn&&this.$store.dispatch("auth/logout"),this.getDataLocalStorage(),this.regText=lr,this.generalText=Tn},methods:{async reg_hand(){Object.assign(this.autoReg,this.$refs.FirstStepComponentAutoReg.getData());const t=this.$refs.ThirdStepComponentAutoReg.getData().userData;this.autoReg.TypeInst=this.$refs.ThirdStepComponentAutoReg.getType(),this.autoReg.Inst=t.inst_name,this.autoReg.Facult=t.faculty_name,this.autoReg.Spec=t.spec_name,this.autoReg.year=t.year_third;const e=this.autoReg.last_name&&this.autoReg.first_name&&this.autoReg.phone_number&&this.autoReg.Inst&&this.autoReg.email&&this.autoReg.confirm_personal_data&&this.autoReg.TypeInst;if(!e)return void Ta.showTextModal(this.regText.error_fill_all_fields);if(!this.$refs.yancaptcha2.getToken())return;const s=`Фамилия: ${this.autoReg.last_name}\nИмя: ${this.autoReg.first_name}\nОтчество: ${this.autoReg.middle_name}\nНомер телефона: ${this.autoReg.phone_number}\nПол: ${this.autoReg.sex}\nТип УЗ: ${this.autoReg.TypeInst}\nНазвание УЗ: ${this.autoReg.Inst}\nФакультет: ${this.autoReg.Facult}\nСпециальность: ${this.autoReg.Spec}\nКурс: ${this.autoReg.year}\nПочта пользователя: ${this.autoReg.email}`;try{await Xi.sendEducationReport(s,ao.auto_reg,this.$refs.yancaptcha2.getToken()),Ta.showTextModal(this.regText.auto_reg_request_ok),this.$router.push("/login")}catch(a){this.$refs.yancaptcha2.resetToken(),this.isViewCaptcha2=!1,this.$nextTick((()=>{this.isViewCaptcha2=!0})),Ta.showTextModal(this.regText.auto_reg_request_fail)}},getDataLocalStorage(){const t=JSON.parse(localStorage.getItem("register"));t&&(this.step=t.step,this.userData=t.userData,this.utility=t.utility,this.selectedInst=t.selectedInst)},setDataLocalStorage(){localStorage.setItem("register",JSON.stringify({step:this.step,userData:this.userData,utility:this.utility,selectedInst:this.selectedInst}))},nextStep(){if(-1!==this.step){if(1===this.step)return Object.assign(this.userData,this.$refs.FirstStepComponent.getData()),this.checkEmpty("last_name")&this.checkEmpty("first_name")&this.checkEmpty("phone_number")&this.checkPhone()&&(this.selectedInst?this.step=2:this.step=3),void this.setDataLocalStorage();if(2===this.step){const{userData:t,utility:e}=this.$refs.SecondStepComponent.getData();return Object.assign(this.userData,t),this.utility=e,this.checkSelect("currentTypeInst")&this.checkSelect("currentInst")&this.checkSelectUpp("currentFacult","listFacult")&this.checkSelectUpp("currentSpec","listSpec")&&(this.step=4),void this.setDataLocalStorage()}if(3===this.step){const{userData:t,utility:e}=this.$refs.ThirdStepComponent.getData();return Object.assign(this.userData,t),this.utility=e,this.checkSelect("currentTypeInst_third")&this.checkEmpty("inst_name")&&(this.step=4),void this.setDataLocalStorage()}}else this.step=1},async registration(){Object.assign(this.userData,this.$refs.FourStepComponent.getData()),this.setDataLocalStorage();const t=!(this.checkEmpty("email")&this.checkEmpty("password")&this.checkCheckBox("confirm_personal_data"));if(!t){if(this.userData.password!==this.userData.passwordConfirm)return this.$store.dispatch("alert/sendMessage",{message:this.regText.dont_confirm_pass,type:"Danger"}),this.isCorrect.password=!1,void(this.isCorrect.passwordConfirm=!1);if(this.$refs.yancaptcha3.getToken()){this.selectedInst||(this.userData.currentInst=1,this.userData.currentFacult="",this.userData.currentSpec="");try{const t=await Xi.register(this.userData,this.$refs.yancaptcha3.getToken());this.$store.dispatch("alert/sendMessage",{message:t.message,type:"Success"}),Ta.showTextModal(this.regText.register_ok)}catch(e){return 500!==e.response.status?Ta.showListModal(this.regText.header_reg_fail,e.response.data):Ta.showTextModal(e.response.data),this.$refs.yancaptcha3.resetToken(),this.isViewCaptcha3=!1,void this.$nextTick((()=>{this.isViewCaptcha3=!0}))}if(!this.selectedInst){const t=`Тип: ${this.utility.listTypeInst.find((t=>t.id===this.userData.currentTypeInst_third)).name}\nУчебное заведение: ${this.userData.inst_name}\nФакультет: ${this.userData.faculty_name}\nСпециальность: ${this.userData.spec_name}\nГод обучения: ${this.userData.year_third}\nПочта пользователя: ${this.userData.email}`;try{await Xi.sendEducationReport(t,ao.new_institution,""),Ta.showTextModal(this.regText.edu_report_ok)}catch(e){Ta.showTextModal(this.regText.edu_report_fail)}}localStorage.removeItem("register"),this.$router.push("/login")}}},checkEmpty(t){return this.isCorrect[t]=t in this.userData&&this.userData[t]&&!!this.userData[t].length,this.isCorrect[t]},checkPhone(){return this.isCorrect["phone_number"]=12===this.userData["phone_number"].length,this.isCorrect["phone_number"]},checkCheckBox(t){return this.isCorrect[t]=this.userData[t],this.userData[t]},checkSelect(t){const e="-1"!==this.userData[t];return this.isCorrect[t]=e,e},checkSelectUpp(t,e){const s=!("-1"===this.userData[t]&&this.utility[e].length>0);return this.isCorrect[t]=s,s},backStep(){1===this.step&&(this.step=-1),2!==this.step&&3!==this.step||(this.step=1),4===this.step&&(this.selectedInst?this.step=2:this.step=3)}}};const io=(0,H.Z)(no,[["render",li]]);var ro=io;const oo={class:""};function lo(t,e,s,a,i,r){return(0,n.wg)(),(0,n.iD)("div",oo)}var co={data(){return{}},props:{id:String,key_link:String},async created(){try{const t=await Xi.getVerificeAcc(this.id,this.key_link);this.$store.dispatch("alert/sendMessage",{message:t.message,type:"Success"})}catch(t){const e=t.response,s=500===e.status?e.data:e.data.message;this.$store.dispatch("alert/sendMessage",{message:s,type:"Danger"})}finally{this.$router.push("/login")}},components:{},methods:{}};const uo=(0,H.Z)(co,[["render",lo]]);var po=uo;const ho={class:"templ_bg bg__blue"},mo={class:"container"},_o={class:"row d-flex align-items-center justify-content-evenly",style:{"min-height":"100vh"}},go=["innerHTML"],wo={class:"text-center mx-auto"},yo={class:"mb-3 input-box"},fo=(0,n._)("label",{for:"email",class:"form-label"},"Email",-1),ko={class:"d-flex justify-content-center mb-2"},vo={type:"submit",class:"btn btn-primary"};function bo(t,e,s,r,o,l){const c=(0,n.up)("BackLink"),u=(0,n.up)("YandexCaptcha");return(0,n.wg)(),(0,n.iD)("div",ho,[(0,n._)("div",mo,[(0,n._)("div",_o,[(0,n._)("form",{onSubmit:e[1]||(e[1]=(0,a.iM)(((...t)=>l.forgotPassword&&l.forgotPassword(...t)),["prevent"])),novalidate:"",class:"my-auto form-template py-2"},[(0,n.Wm)(c,{text:"назад"}),(0,n._)("h2",{class:"mb-1 text-blue text-center fs-6 pt-3 pb-3",innerHTML:o.generalText.header},null,8,go),(0,n._)("p",wo,(0,i.zw)(o.forgotPasswordText.change_pass_about),1),(0,n._)("div",yo,[fo,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.email=t),type:"email",class:(0,i.C_)(["input",{"border-danger":!o.isCorrect.email}]),id:"email",style:{width:"100%"}},null,2),[[a.nr,o.email]])]),o.isViewCaptcha4?((0,n.wg)(),(0,n.j4)(u,{key:0,ref:"yancaptcha4",captchaId:"yancaptcha-4"},null,512)):(0,n.kq)("",!0),(0,n._)("div",ko,[(0,n._)("button",vo,(0,i.zw)(o.forgotPasswordText.change_pass_button),1)])],32)])])])}var xo={data(){return{email:"",captcha_token:"",isCorrect:{email:!0},generalText:{},forgotPasswordText:{},isViewCaptcha4:!0}},created(){this.$store.state.auth.status.loggedIn&&this.$store.dispatch("auth/logout"),this.generalText=Tn,this.forgotPasswordText=jt},components:{BackLink:za,YandexCaptcha:hi},methods:{async forgotPassword(){if(this.isCorrectEmail()&&this.$refs.yancaptcha4.getToken())try{await Xi.postSendEmailForChangePass(this.email,this.$refs.yancaptcha.getToken()),Ta.showTextModal(jt.change_pass_susses),this.$router.push("/login")}catch(t){let e=t.response.data;500!==t.response.status&&(e=e.error),this.$store.dispatch("alert/sendMessage",{message:e,type:"Danger"}),this.$refs.yancaptcha4.resetToken(),this.isViewCaptcha4=!1,this.$nextTick((()=>{this.isViewCaptcha4=!0}))}},isCorrectEmail(){return this.isCorrect.email=rt.checkIsEmail(this.email),this.isCorrect.email}}};const Do=(0,H.Z)(xo,[["render",bo]]);var Co=Do;const To={class:"templ_bg bg__blue"},So={class:"container"},Mo={class:"row d-flex align-items-center justify-content-evenly",style:{"min-height":"100vh"}},Io=["innerHTML"],Lo={class:"text-center mx-auto"},$o={key:0,class:"mb-3 input-box"},Uo=(0,n._)("label",{for:"email",class:"form-label"},"Email",-1),Ao={class:"mb-3 input-box"},jo={class:"d-flex justify-content-center mb-2"},Fo={type:"submit",class:"btn btn-primary"};function zo(t,e,s,r,o,l){const c=(0,n.up)("BackLink"),u=(0,n.up)("YandexCaptcha");return(0,n.wg)(),(0,n.iD)("div",To,[(0,n._)("div",So,[(0,n._)("div",Mo,[(0,n._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...t)=>l.sendCallBack&&l.sendCallBack(...t)),["prevent"])),novalidate:"",class:"my-auto form-template py-2"},[(0,n.Wm)(c,{text:"назад"}),(0,n._)("h2",{class:"mb-1 text-blue text-center fs-6 pt-3 pb-3",innerHTML:o.generalText.header},null,8,Io),(0,n._)("p",Lo,(0,i.zw)(o.callBackText.call_back_about),1),l.loggedIn?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",$o,[Uo,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.email=t),type:"email",class:(0,i.C_)(["input",{"border-danger":!o.isCorrect.email}]),id:"email",style:{width:"100%"}},null,2),[[a.nr,o.email]])])),(0,n._)("div",Ao,[(0,n.wy)((0,n._)("textarea",{rows:"5","onUpdate:modelValue":e[1]||(e[1]=t=>o.content=t),type:"content",class:(0,i.C_)(["input",{"border-danger":!o.isCorrect.content}]),id:"content",style:{width:"100%"}},"\r\n                        ",2),[[a.nr,o.content]])]),o.isViewCaptcha?((0,n.wg)(),(0,n.j4)(u,{key:1,ref:"yancaptcha",captchaId:"yancaptcha-1"},null,512)):(0,n.kq)("",!0),(0,n._)("div",jo,[(0,n._)("button",Fo,(0,i.zw)(o.callBackText.call_back_button),1)])],32)])])])}var Ho={data(){return{generalText:{},callBackText:{},email:"",content:"",isCorrect:{email:!0,content:!0},isViewCaptcha:!0}},components:{BackLink:za,YandexCaptcha:hi},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},created(){this.generalText=Tn,this.callBackText=Ft},methods:{async sendCallBack(){this.isContentEmpty()||!this.loggedIn&!this.isCorrectEmail()||this.$refs.yancaptcha.getToken()&&this.sendMessage()},async sendMessage(){let t=`сообщение: ${this.content}`;this.loggedIn||(t=`email: ${this.email}\n`+t);try{await Xi.sendEducationReport(t,ao.call_back,this.$refs.yancaptcha.getToken()),Ta.showTextModal(Ft.call_back_susses),this.$router.back()}catch(e){this.$refs.yancaptcha.resetToken(),this.isViewCaptcha=!1,this.$nextTick((()=>{this.isViewCaptcha=!0})),Ta.showTextModal(Ft.call_back_fail)}},isCorrectEmail(){return this.isCorrect.email=rt.checkIsEmail(this.email),this.isCorrect.email},isContentEmpty(){return this.isCorrect.content=!rt.checkIsEmptyStr(this.content),!this.isCorrect.content}}};const No=(0,H.Z)(Ho,[["render",zo]]);var Po=No;const Bo={class:"py-5 pb-2 bg__blue text-white",style:{"min-height":"90vh"}},Oo={class:"container"},Ro={class:"row gx-md-1 gx-lg-3 justify-content-end flex-md-row flex-column-reverse"},Eo={key:0,class:"col-12 col-md-3 d-sm-block mb-sm-0 mb-2"};function qo(t,e,s,a,r,o){const l=(0,n.up)("router-view"),c=(0,n.up)("LKNavBar");return(0,n.wg)(),(0,n.iD)("div",Bo,[(0,n._)("div",Oo,[(0,n._)("div",Ro,[(0,n._)("div",{class:(0,i.C_)(["col-12 col-md-8 mx-auto",{"col-12":!r.site_pages.find((t=>this.$route.path.includes(t)))}])},[(0,n.Wm)(l,{class:"templ-item__bg p-sm-5 p-2"})],2),r.site_pages.find((t=>this.$route.path.includes(t)))?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",Eo,[(0,n.Wm)(c,{class:"align-self-center"})]))])])])}const Wo={class:"nav nav-pills nav-fill flex-column"};function Vo(t,e,s,a,r,o){const l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("nav",Wo,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.pages,((t,e)=>((0,n.wg)(),(0,n.iD)("div",{class:"nav-item",key:t.id},[(0,n.Wm)(l,{onClick:t=>r.page_select=e,class:(0,i.C_)(["nav-link",{"nav-link__active":"/LK"===this.$route.path&&t.path===this.$route.path||"/LK"!==this.$route.path&&"/LK"!==t.path&&this.$route.path.startsWith(t.path),"text-white":!("/LK"===this.$route.path&&t.path===this.$route.path||"/LK"!==this.$route.path&&"/LK"!==t.path&&this.$route.path.startsWith(t.path))}]),to:{path:t.path},"aria-current":{page:r.page_select===e}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(t.title),1)])),_:2},1032,["onClick","to","class","aria-current"])])))),128))])}var Yo={data(){return{pages:[{id:1,path:"/LK",title:"Мой профиль"},{id:2,path:"/LK/my-tasks",title:"Мои задачи"},{id:3,path:"/LK/my-teams",title:"Мои команды"}],page_select:0}},components:{},created(){},methods:{}};const Ko=(0,H.Z)(Yo,[["render",Vo],["__scopeId","data-v-a8619198"]]);var Zo=Ko,Jo={data(){return{site_pages:["/LK/set-user-skills","/LK/change-password","/LK/my-teams/","/LK/my-tasks/"]}},components:{LKNavBar:Zo},methods:{}};const Xo=(0,H.Z)(Jo,[["render",qo]]);var Go=Xo,Qo=s.p+"img/success.5c14e2e2.svg";const tl=t=>((0,n.dD)("data-v-12778317"),t=t(),(0,n.Cn)(),t),el={class:"text-center mb-4"},sl={key:0,class:"mb-4 d-flex justify-content-center"},al={key:1,class:"mb-4"},nl={class:"d-flex gap-3 justify-content-center align-items-center mb-3"},il=tl((()=>(0,n._)("h5",{class:"text-uppercase mb-0"},"Навыки",-1))),rl={class:"d-flex flex-wrap gap-2"},ol={class:"mb-4"},ll={class:"d-flex gap-sm-3 gap-2 justify-content-center align-items-center mb-3"},cl=tl((()=>(0,n._)("h5",{class:"text-uppercase mb-0 text-sm-start text-center"},"Личная информация",-1))),ul={key:0},dl={class:"input-group mb-3"},pl=tl((()=>(0,n._)("span",{class:"input-group-text",id:"email"},"Email",-1))),hl={class:"form-control text-break"},ml={class:"input-group mb-3"},_l=tl((()=>(0,n._)("span",{class:"input-group-text",id:"phone_number"},"Телефон",-1))),gl={class:"form-control text-break"},wl={key:0,class:"input-group mb-3"},yl=tl((()=>(0,n._)("span",{class:"input-group-text",id:"birth_date"},"Дата рождения",-1))),fl={class:"form-control text-break"},kl={key:1},vl={class:"input-group mb-3"},bl=tl((()=>(0,n._)("span",{class:"input-group-text",id:"new_phone_number"},"Телефон",-1))),xl={class:"input-group mb-3 flex-column align-items-center"},Dl=tl((()=>(0,n._)("span",{class:"input-group-text rounded mb-2",id:"birth_date"},"Дата рождения",-1))),Cl={key:2,class:"mb-4"},Tl={class:"d-flex gap-sm-3 gap-1 justify-content-center align-items-center mb-3"},Sl=tl((()=>(0,n._)("h5",{class:"text-uppercase mb-0 text-sm-start text-center"},"Информация об учебном заведении",-1))),Ml={key:0},Il={class:"input-group mb-3"},Ll=tl((()=>(0,n._)("span",{class:"input-group-text",id:"inst"},"Название",-1))),$l={class:"form-control text-break"},Ul={key:0,class:"input-group mb-3"},Al=tl((()=>(0,n._)("span",{class:"input-group-text",id:"faculty"},"Факультет",-1))),jl={class:"form-control text-break"},Fl={key:1,class:"input-group mb-3"},zl=tl((()=>(0,n._)("span",{class:"input-group-text",id:"specialty"},"Направление",-1))),Hl={class:"form-control text-break"},Nl={key:2,class:"input-group mb-3"},Pl=tl((()=>(0,n._)("span",{class:"input-group-text",id:"year"},"Курс",-1))),Bl={class:"form-control text-break"},Ol={key:1};function Rl(t,e,s,r,o,l){const c=(0,n.up)("VueDatePicker"),u=(0,n.up)("SecondStepInputs");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("h1",el,(0,i.zw)(o.user.first_name+" "+o.user.last_name),1),0==o.user.categories.length?((0,n.wg)(),(0,n.iD)("div",sl,[(0,n._)("button",{class:"btn btn-primary mx-auto",onClick:e[0]||(e[0]=t=>this.$router.push("/LK/set-user-skills"))}," Выбрать навыки ")])):((0,n.wg)(),(0,n.iD)("div",al,[(0,n._)("div",nl,[il,(0,n._)("img",{class:"cursor",src:Sr,title:"Изменить",alt:"Изменить",style:{width:"25px"},onClick:e[1]||(e[1]=t=>this.$router.push("/LK/set-user-skills"))})]),(0,n._)("div",rl,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.user.skills,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.id,class:"skill fs-6"},(0,i.zw)(t.name),1)))),128))])])),(0,n._)("div",ol,[(0,n._)("div",ll,[cl,o.changePersonalData?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("img",{key:0,class:"cursor",src:Sr,onClick:e[2]||(e[2]=t=>o.changePersonalData=!o.changePersonalData),title:"Изменить",alt:"Изменить",style:{width:"25px"}})),o.changePersonalData?((0,n.wg)(),(0,n.iD)("img",{key:1,class:"cursor",src:Qo,onClick:e[3]||(e[3]=t=>{o.changePersonalData=!o.changePersonalData,this.changePersonalDataMethod()}),title:"Подтвердить",alt:"Подтвердить",style:{width:"25px"}})):(0,n.kq)("",!0)]),o.changePersonalData?((0,n.wg)(),(0,n.iD)("div",kl,[(0,n._)("div",vl,[bl,(0,n.wy)((0,n._)("input",{class:"form-control text-break",onInput:e[5]||(e[5]=(...t)=>l.checkTel&&l.checkTel(...t)),"onUpdate:modelValue":e[6]||(e[6]=t=>o.new_phone_number=t),maxlength:"12",type:"tel",id:"new_phone_number",placeholder:"+7XXXXXXXXXX"},null,544),[[a.nr,o.new_phone_number]])]),(0,n._)("div",xl,[Dl,(0,n.Wm)(c,{modelValue:o.birth_date,"onUpdate:modelValue":e[7]||(e[7]=t=>o.birth_date=t),locale:"ru",inline:"","auto-apply":"","enable-time-picker":!1,"max-date":new Date,"model-type":"yyyy-MM-dd",class:"mx-auto justify-content-center",id:"birth_date"},null,8,["modelValue","max-date"])])])):((0,n.wg)(),(0,n.iD)("div",ul,[(0,n._)("div",dl,[pl,(0,n._)("div",hl,(0,i.zw)(o.user.email),1)]),(0,n._)("div",ml,[_l,(0,n._)("div",gl,(0,i.zw)(o.user.phone_number),1)]),"1000-01-01"!==o.user.birth_date?((0,n.wg)(),(0,n.iD)("div",wl,[yl,(0,n._)("div",fl,(0,i.zw)(l.format_date(o.user.birth_date)),1)])):(0,n.kq)("",!0),(0,n._)("button",{class:"btn btn-primary mx-auto",onClick:e[4]||(e[4]=t=>this.$router.push("/LK/change-password"))}," Сменить пароль ")]))]),o.user.institution&&o.user.institution.institution_name&&"Нет в списке"!=o.user.institution.institution_name?((0,n.wg)(),(0,n.iD)("div",Cl,[(0,n._)("div",Tl,[Sl,o.changeUnivers?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("img",{key:0,class:"cursor",src:Sr,onClick:e[8]||(e[8]=t=>o.changeUnivers=!o.changeUnivers),title:"Изменить",alt:"Изменить",style:{width:"25px"}})),o.changeUnivers?((0,n.wg)(),(0,n.iD)("img",{key:1,class:"cursor",src:Qo,onClick:e[9]||(e[9]=t=>{o.changeUnivers=!o.changeUnivers,this.changeUniver()}),title:"Подтвердить",alt:"Подтвердить",style:{width:"25px"}})):(0,n.kq)("",!0)]),o.changeUnivers?((0,n.wg)(),(0,n.iD)("div",Ol,[(0,n.Wm)(u,{userData:o.userData,out_utility:o.utility,isCorrect:o.isCorrect,ref:"SecondStepComponent"},null,8,["userData","out_utility","isCorrect"])])):((0,n.wg)(),(0,n.iD)("div",Ml,[(0,n._)("div",Il,[Ll,(0,n._)("div",$l,(0,i.zw)(o.user.institution.institution_name),1)]),o.user.faculty&&o.user.faculty.faculty_name?((0,n.wg)(),(0,n.iD)("div",Ul,[Al,(0,n._)("div",jl,(0,i.zw)(o.user.faculty.faculty_name),1)])):(0,n.kq)("",!0),o.user.specialty&&o.user.specialty.specialty_name?((0,n.wg)(),(0,n.iD)("div",Fl,[zl,(0,n._)("div",Hl,(0,i.zw)(o.user.specialty.specialty_name),1)])):(0,n.kq)("",!0),o.user.year?((0,n.wg)(),(0,n.iD)("div",Nl,[Pl,(0,n._)("div",Bl,(0,i.zw)(o.user.year),1)])):(0,n.kq)("",!0)]))])):(0,n.kq)("",!0)])}var El=s(3098),ql={data(){return{user:{email:"",first_name:"",last_name:"",institution:[],faculty:[],specialty:[],phone_number:"",year:"",error:null,categories:null,skills:null},utility:{},isCorrect:{},userData:{},changeUnivers:!1,changePersonalData:!1,new_phone_number:"+7",birth_date:"2000-01-01"}},components:{SecondStepInputs:dr,VueDatePicker:El.Z},created(){const t=JSON.parse(localStorage.getItem("user_data"));t?(this.user=t,this.setBirthData()):this.getLK()},methods:{setBirthData(){this.birth_date=rt.checkAgeBetween(this.user.birth_date,14,100)?this.user.birth_date:"2000-01-01"},checkTel(){this.new_phone_number=rt.correctiongTel(this.new_phone_number)},async getLK(){try{this.user=await kn.getLkInfo(),this.setBirthData()}catch(t){this.$router.push("/login")}},async changeData(t){try{await kn.changeUserData(t),this.getLK(),this.$store.dispatch("alert/sendMessage",{message:"Данные успешно изменены",type:"Success"})}catch(e){if(500===e.response.status)return void this.$store.dispatch("alert/sendMessage",{message:e.response.data,type:"Danger"});this.$store.dispatch("alert/sendMessage",{message:"Ошибка на сервере. Данные не были изменены",type:"Danger"})}},changePersonalDataMethod(){const t={};if(rt.checkAgeBetween(this.birth_date,14,100)&&this.birth_date!==this.user.birth_date&&(t.birth_date=this.birth_date),12===this.new_phone_number.length&&this.new_phone_number!==this.user.phone_number&&(t.phone_number=this.new_phone_number),!t.birth_date&&!t.phone_number)return this.$store.dispatch("alert/sendMessage",{message:"Данные не были изменены",type:"Danger"}),this.setBirthData(),void(this.new_phone_number="+7");this.changeData(t)},checkPhone(){return this.isCorrect.phone_number=12===this.userData.phone_number.length,this.isCorrect.phone_number},async changeUniver(){const{userData:t}=this.$refs.SecondStepComponent.getData();if("-1"===t.currentFacult||"-1"===t.currentInst||"-1"===t.currentSpec||"-1"===t.currentTypeInst)return void this.$store.dispatch("alert/sendMessage",{message:"Данные не были изменены",type:"Danger"});const{currentInst:e,currentSpec:s,currentFacult:a,year:n}=t;this.changeData({institution:e,faculty:a,specialty:s,year:n})},format_date(t){const e=t.split("-");return e[2]+"."+e[1]+"."+e[0]}}};const Wl=(0,H.Z)(ql,[["render",Rl],["__scopeId","data-v-12778317"]]);var Vl=Wl;const Yl=t=>((0,n.dD)("data-v-a7ac2cee"),t=t(),(0,n.Cn)(),t),Kl={class:"mx-auto setUserSkills"},Zl={class:"mb-4"},Jl=Yl((()=>(0,n._)("div",{class:"mx-auto my-3"},[(0,n._)("h5",{class:"text-center mx-auto text-uppercase mb-4 col-sm-10 fs-6 fs-sm-3"}," Выбери направления, в которых ты готов подтвердить свои компетенции: ")],-1))),Xl={class:"item d-flex flex-column justify-content-center align-items-start text-white p-2 mb-4 col-sm-9 col-10 mx-auto"},Gl={class:"mx-auto text-center mb-3 fw-bold fs-6"},Ql={class:"mx-auto text-start"},tc=["onChange","checked","id"],ec=["for"],sc={key:0,class:"mx-auto"},ac={class:"mb-3 mx-auto"},nc={class:"text-center",style:{"max-width":"400px"}},ic=Yl((()=>(0,n._)("br",null,null,-1))),rc={class:"text-second-blue text-uppercase"},oc={class:"mx-auto"},lc={class:"text-center"},cc=Yl((()=>(0,n._)("br",null,null,-1))),uc={class:"text-second-blue text-uppercase"},dc={class:"d-flex justify-content-center"};function pc(t,e,s,a,r,o){const l=(0,n.up)("BackLink"),c=(0,n.up)("range-slider"),u=(0,n.up)("swiper-slide"),d=(0,n.up)("swiper");return(0,n.wg)(),(0,n.iD)("div",Kl,[(0,n.Wm)(l,{text:"назад"}),(0,n._)("div",Zl,[Jl,(0,n.Wm)(d,{class:"mb-3",style:{"vertical-align":"baseline"},modules:r.modules,"slides-per-view":1,"space-between":0,loop:!0,navigation:"",pagination:{clickable:!0}},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.categories_skills,((t,e)=>((0,n.wg)(),(0,n.j4)(u,{isDuplicate:!0,class:"my-auto",key:t.id},{default:(0,n.w5)((()=>[(0,n._)("div",Xl,[(0,n._)("p",Gl,(0,i.zw)(t.name),1),(0,n._)("div",Ql,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.skills,(s=>((0,n.wg)(),(0,n.iD)("div",{key:s.id,class:"mx-auto form-check mb-3"},[(0,n._)("input",{onChange:a=>o.add_skill(e,t.id,s.id),class:"form-check-input",checked:r.categories_levels[e].prev_check_skill&&r.categories_levels[e].prev_check_skill.includes(s.id),type:"checkbox",id:s.id},null,40,tc),(0,n._)("label",{class:"form-check-label cursor",for:s.id},(0,i.zw)(s.name),9,ec)])))),128))]),r.categories_levels&&r.categories_levels[e]&&r.categories_levels[e].status?((0,n.wg)(),(0,n.iD)("div",sc,[(0,n._)("div",ac,[(0,n._)("p",nc,[(0,n.Uk)("Мой уровнень относительно учебной программы: "),ic,(0,n._)("span",rc,(0,i.zw)(r.labels[r.categories_levels[e].level_now]),1)]),(0,n.Wm)(c,{value:r.categories_levels[e].level_now,"onUpdate:value":[t=>r.categories_levels[e].level_now=t,s=>o.onLevelNowChange(e,t.id)]},null,8,["value","onUpdate:value"])]),(0,n._)("div",oc,[(0,n._)("p",lc,[(0,n.Uk)("Желаемый уровень (которого хочешь достигнуть): "),cc,(0,n._)("span",uc,(0,i.zw)(r.labels[r.categories_levels[e].prospective_level]),1)]),(0,n.Wm)(c,{value:r.categories_levels[e].prospective_level,"onUpdate:value":[t=>r.categories_levels[e].prospective_level=t,s=>o.onProspectiveNowChange(e,t.id)]},null,8,["value","onUpdate:value"])])])):(0,n.kq)("",!0)])])),_:2},1024)))),128))])),_:1},8,["modules"]),(0,n._)("div",dc,[(0,n._)("button",{onClick:e[0]||(e[0]=t=>o.addSkillToUser()),type:"button",class:"btn btn-primary"},"Завершить настройку")])])])}const hc={class:"range-slider"},mc=["update","max"],_c=(0,n._)("br",null,null,-1);function gc(t,e,s,i,r,o){return(0,n.wg)(),(0,n.iD)("div",hc,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>r.sliderValue=t),update:o.setValue(r.sliderValue),type:"range",min:"0",max:s.max,class:"slider-field cursor col-12"},null,8,mc),[[a.nr,r.sliderValue]]),_c])}var wc={props:{value:String,max:{type:String,default:"3"}},emits:["update:value"],data(){return{sliderValue:(0,ga.iH)(0)}},created(){this.setPosition(this.value)},watch:{value(t){this.setPosition(t)}},methods:{setPosition(t){this.sliderValue=(0,ga.iH)(t)},setValue(t){this.$emit("update:value",String(t))}}};const yc=(0,H.Z)(wc,[["render",gc]]);var fc=yc,kc={data(){return{categories_skills:[],set_skills_user:[],width:0,categories_levels:[],labels:["Хуже","На уровне","Лучше","Гораздо лучше"],modules:[Ns.W_,Ns.tl,Ns.s5]}},components:{Swiper:Ps.tq,SwiperSlide:Ps.o5,RangeSlider:fc,BackLink:za},methods:{async addSkillToUser(){try{await kn.postSkills(this.set_skills_user),this.$store.dispatch("alert/sendMessage",{message:"Навыки добавлены в список!",type:"Success"})}catch(t){return this.$store.dispatch("alert/sendMessage",{message:"Что-то пошло не так...",type:"Danger"}),void this.$router.push("/LK")}try{await kn.getLkInfo()}catch(t){return this.$store.dispatch("alert/sendMessage",{message:"Не удалось получить обновленные данные",type:"Danger"}),void this.$router.push("/login")}this.$router.push("/LK")},onLevelNowChange:function(t,e){const s=this.set_skills_user.findIndex((t=>t.id===e));-1!==s&&(this.categories_levels[t].level_now>this.categories_levels[t].prospective_level&&(this.categories_levels[t].prospective_level=this.categories_levels[t].level_now),this.set_skills_user[s].level_now=Number(this.categories_levels[t].level_now)+1)},onProspectiveNowChange:function(t,e){const s=this.set_skills_user.findIndex((t=>t.id===e));-1!==s&&(this.categories_levels[t].prospective_level<this.categories_levels[t].level_now&&(this.categories_levels[t].level_now=this.categories_levels[t].prospective_level),this.set_skills_user[s].prospective_level=Number(this.categories_levels[t].prospective_level)+1)},add_skill:function(t,e,s){const a=this.set_skills_user.find((t=>t.id===e));void 0===a?(this.categories_levels[t].status=!0,this.set_skills_user.push({id:e,skills:[s],level_now:Number(this.categories_levels[t].level_now)+1,prospective_level:Number(this.categories_levels[t].prospective_level)+1})):a.skills.includes(s)?(a.skills=a.skills.filter((t=>t!==s)),0===a.skills.length&&(this.categories_levels[t].status=!1,this.set_skills_user=this.set_skills_user.filter((t=>t!==a)),this.categories_levels[t].level_now="0",this.categories_levels[t].prospective_level="0")):a.skills.push(s)}},async beforeCreate(){try{this.categories_skills=await kn.getSkills()}catch(s){return this.$store.dispatch("alert/sendMessage",{message:s.response.data,type:"Danger"}),void this.$router.back()}this.categories_levels=this.categories_skills.map((()=>({level_now:"1",prospective_level:"1",status:!1})));const t=JSON.parse(localStorage.getItem("user_data"));if(!t)return;const e=t.categories;for(let a=0;a<e.length;++a){const t=this.categories_skills.findIndex((t=>t.id===e[a].id));if(-1!==t){this.categories_levels[t].status=!0,this.categories_levels[t].level_now=String(e[a].level_now-1),this.categories_levels[t].prospective_level=String(e[a].prospective_level-1),this.categories_levels[t].prev_check_skill=e[a].skills.map((t=>t.id));for(let s=0;s<e[a].skills.length;++s)this.add_skill(t,e[a].id,e[a].skills[s].id)}}}};const vc=(0,H.Z)(kc,[["render",pc],["__scopeId","data-v-a7ac2cee"]]);var bc=vc;const xc={class:"container"},Dc={class:"d-flex flex-column justify-content-center"},Cc={class:"col-sm-10 mx-auto"},Tc={class:"mb-3 pass-eye"},Sc=(0,n._)("label",{for:"old_password",class:"form-label"},[(0,n.Uk)("Текущий или временный пароль "),(0,n._)("span",{class:"text-danger"},"*")],-1),Mc=["type"],Ic={class:"mb-3 pass-eye"},Lc={class:"box-answer"},$c=(0,n._)("label",{for:"password",class:"form-label"},[(0,n.Uk)("Новый пароль "),(0,n._)("span",{class:"text-danger"},"*")],-1),Uc=["title"],Ac={class:"d-flex align-items-start",style:{"margin-top":"2px"}},jc=["type"],Fc=["innerHTML"],zc={class:"mb-3 pass-eye"},Hc=(0,n._)("label",{for:"confirm_password",class:"form-label"},[(0,n.Uk)("Повтори новый пароль "),(0,n._)("span",{class:"text-danger"},"*")],-1),Nc=["type"],Pc=(0,n._)("button",{type:"submit",class:"btn btn-primary"},"Сменить пароль",-1);function Bc(t,e,s,r,o,l){const c=(0,n.up)("BackLink"),u=(0,n.up)("YandexCaptcha");return(0,n.wg)(),(0,n.iD)("div",xc,[(0,n._)("div",Dc,[(0,n.Wm)(c,{text:"назад"}),(0,n._)("div",Cc,[(0,n._)("form",{onSubmit:e[9]||(e[9]=(0,a.iM)(((...t)=>l.change_pass&&l.change_pass(...t)),["prevent"])),novalidate:""},[(0,n._)("div",Tc,[Sc,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.old_password=t),type:o.isShowOldPass?"text":"password",class:(0,i.C_)(["input pass-eye__inp",{"border-danger":!this.isCorrect.old_password}]),id:"old_password",style:{width:"100%"}},null,10,Mc),[[a.YZ,o.old_password]]),(0,n._)("span",{onClick:e[1]||(e[1]=t=>o.isShowOldPass=!o.isShowOldPass),class:(0,i.C_)(["pass-eye__btn",{active:o.isShowOldPass}])},null,2)]),(0,n._)("div",Ic,[(0,n._)("div",Lc,[$c,(0,n._)("div",{class:(0,i.C_)(["answer",{"ans-active":o.tooltipVisible}]),title:o.regText.password_ruls,onClick:e[2]||(e[2]=t=>{o.tooltipVisible=!o.tooltipVisible})}," ? ",10,Uc),(0,n._)("div",Ac,[(0,n._)("img",{class:"cursor",src:Sr,onClick:e[3]||(e[3]=(...t)=>l.genPassword&&l.genPassword(...t)),title:"Сгенерировать пароль",alt:"Сгенерировать пароль",style:{width:"20px"}})])]),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o.password=t),type:o.isShowPass?"text":"password",class:(0,i.C_)(["input pass-eye__inp",{"border-danger":!this.isCorrect.password}]),id:"password",style:{width:"100%"}},null,10,jc),[[a.YZ,o.password]]),(0,n._)("span",{onClick:e[5]||(e[5]=t=>o.isShowPass=!o.isShowPass),class:(0,i.C_)(["pass-eye__btn",{active:o.isShowPass}])},null,2)]),o.tooltipVisible?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"custom-modal",onClick:e[6]||(e[6]=t=>{o.tooltipVisible=!o.tooltipVisible})},[(0,n._)("div",{class:"modal-content",innerHTML:o.regText.password_ruls_html},null,8,Fc)])):(0,n.kq)("",!0),(0,n._)("div",zc,[Hc,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>o.confirm_password=t),type:o.isShowConfirmPass?"text":"password",class:(0,i.C_)(["input pass-eye__inp",{"border-danger":!this.isCorrect.password}]),id:"confirm_password",style:{width:"100%"}},null,10,Nc),[[a.YZ,o.confirm_password]]),(0,n._)("span",{onClick:e[8]||(e[8]=t=>o.isShowConfirmPass=!o.isShowConfirmPass),class:(0,i.C_)(["pass-eye__btn",{active:o.isShowConfirmPass}])},null,2)]),o.isViewCaptcha5?((0,n.wg)(),(0,n.j4)(u,{key:1,ref:"yancaptcha5",captchaId:"yancaptcha-5"},null,512)):(0,n.kq)("",!0),Pc],32)])])])}var Oc={data(){return{regText:{},old_password:"",isShowOldPass:!1,password:"",isShowPass:!1,confirm_password:"",isShowConfirmPass:!1,isCorrect:{old_password:!0,password:!0,confirm_password:!0},tooltipVisible:!1,isViewCaptcha5:!0}},components:{BackLink:za,YandexCaptcha:hi},created(){this.regText=lr},methods:{async genPassword(){try{this.password=await Xi.genPass(),this.isShowPass=!0}catch(t){if(500===t.response.status)this.$store.dispatch("alert/sendMessage",{message:t.response.data,type:"Danger"});else{const t="Возникла ошибка при генерации пароля";this.$store.dispatch("alert/sendMessage",{message:t,type:"Danger"})}}},passwordOldChanged(){return this.isCorrect.old_password=!rt.checkIsEmptyStr(this.old_password),this.isCorrect.old_password},passwordChanged(){return this.isCorrect.password=this.password==this.confirm_password&&!rt.checkIsEmptyStr(this.password),this.isCorrect.password},passwordConfirmChanged(){return this.isCorrect.confirm_password=this.password==this.confirm_password&&!rt.checkIsEmptyStr(this.password),this.isCorrect.confirm_password},async change_pass(){const t=this.passwordOldChanged()&this.passwordChanged()&this.passwordConfirmChanged();if(t&&this.$refs.yancaptcha5.getToken())try{const t=await kn.changePassword(this.old_password,this.password,this.$refs.yancaptcha5.getToken());this.$store.dispatch("alert/sendMessage",{message:t.ok,type:"Success"}),this.$router.push("/login")}catch(e){"object"===typeof e.response.data.error?Ta.showMiniListModal(e.response.data.error):Ta.showTextModal(e.response.data.error),this.$refs.yancaptcha5.resetToken(),this.isViewCaptcha5=!1,this.$nextTick((()=>{this.isViewCaptcha5=!0}))}}}};const Rc=(0,H.Z)(Oc,[["render",Bc]]);var Ec=Rc;const qc={class:"py-5 pb-2 bg__blue text-white",style:{"min-height":"90vh"}},Wc={class:"container"},Vc={class:"templ-item__bg p-2 col-12 col-md-8 mx-auto"},Yc=["innerHTML"],Kc={class:"mb-3 col-10 mx-auto"},Zc={class:"mb-3"},Jc=["innerHTML"];function Xc(t,e,s,a,i,r){const o=(0,n.up)("BackLink"),l=(0,n.up)("router-link"),c=(0,n.up)("NominationsBar"),u=(0,n.up)("ScheduleBar");return(0,n.wg)(),(0,n.iD)("div",qc,[(0,n._)("div",Wc,[(0,n._)("div",Vc,[(0,n.Wm)(o,{text:"назад"}),(0,n._)("h1",{class:"fs-3 text-center mb-4",innerHTML:i.name},null,8,Yc),(0,n._)("div",Kc,[(0,n._)("div",Zc,[i.reglament_link?((0,n.wg)(),(0,n.j4)(l,{key:0,class:"text-white link hover-btn",to:"/page/"+i.reglament_link},{default:(0,n.w5)((()=>[(0,n.Uk)("Регламент мероприятия")])),_:1},8,["to"])):(0,n.kq)("",!0)]),(0,n._)("div",{innerHTML:i.content},null,8,Jc)]),i.nominations.length?((0,n.wg)(),(0,n.j4)(c,{key:0,nominations_array:i.nominations},null,8,["nominations_array"])):(0,n.kq)("",!0),(0,n.Wm)(u,{schedule:i.schedule,title:"Расписание"},null,8,["schedule"])])])])}var Gc={data(){return{content:"",link_name:"",reglament_link:null,name:"",event:null,nominations:[],schedule:[]}},components:{BackLink:za,NominationsBar:Rs,ScheduleBar:ea},async created(){try{this.event=await Wp.getEvent(this.$route.params.id),this.link_name=this.event.link_name,this.reglament_link=this.event.reglament_link,this.name=this.event.name}catch(t){this.$store.dispatch("alert/sendMessage",{message:"Страница не найдена",type:"Danger"}),this.$router.back()}this.content=(await $e.getPageContent(this.link_name).catch((()=>({content:""})))).content,this.schedule=je.createSchedule((await Wp.getSchedule().catch((()=>[]))).filter((t=>this.event.id===t.event.id)),[this.event]),this.nominations=je.createNominationsElem(await Wp.getNominationsFromEvent(this.$route.params.id).catch((()=>[])),this.event,await xs.getUserNominations().catch((()=>[])),await xs.getTaskStatusAll().catch((()=>[])),this.schedule)},methods:{}};const Qc=(0,H.Z)(Gc,[["render",Xc]]);var tu=Qc;const eu=t=>((0,n.dD)("data-v-b1a5ad30"),t=t(),(0,n.Cn)(),t),su={class:""},au={class:"mx-auto text-center mb-4"},nu={key:0},iu=["innerHTML"],ru=["innerHTML"],ou={class:"d-md-flex gap-2 align-items-center mb-4"},lu=eu((()=>(0,n._)("p",{class:"mt-0 me-md-1 me-0 mb-md-0 mb-1 p-0"},"Код приглашения: ",-1))),cu={class:"d-flex flex-wrap gap-2"},uu={key:0,class:"text-center p-2 templ-item__bg bg_blue text-white"},du={key:1},pu={class:"mb-0"},hu={class:"text-danger mt-0"},mu=eu((()=>(0,n._)("em",null,[(0,n.Uk)("*Число участников в команде меньше минимального порога"),(0,n._)("br")],-1))),_u={key:2},gu=eu((()=>(0,n._)("p",{class:"text-second-blue"},[(0,n._)("em",null,"Команда допущена к участию в мероприятии.")],-1))),wu=[gu],yu={class:"mb-3 mx-auto text-center d-flex justify-content-center align-items-center gap-3"},fu={class:"mb-0"},ku={class:"list-group list-group-flush mb-2"},vu={class:"list-group-item bg_second-blue"};function bu(t,e,s,r,o,l){const c=(0,n.up)("BackLink"),u=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",su,[(0,n.Wm)(c,{text:"назад"}),(0,n._)("h4",au,(0,i.zw)(o.team.name),1),(0,n._)("p",null,[(0,n.Uk)("Команда зарегистрирована в рамках мероприятия "),o.event_data.link_name?((0,n.wg)(),(0,n.iD)("em",nu,[(0,n.Wm)(u,{class:"text-white link hover-btn",to:"/event/"+o.event_data.id},{default:(0,n.w5)((()=>[(0,n._)("span",{innerHTML:o.event_data.name},null,8,iu)])),_:1},8,["to"])])):((0,n.wg)(),(0,n.iD)("em",{key:1,class:"text-second-blue",innerHTML:o.event_name},null,8,ru))]),(0,n._)("div",ou,[lu,(0,n._)("div",cu,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.cnange_code=t),type:"text",class:"input",onInput:e[1]||(e[1]=(...t)=>l.changeCode&&l.changeCode(...t)),id:"copyMe",style:{"max-width":"130px"}},null,544),[[a.nr,o.cnange_code]]),(0,n._)("button",{class:"btn btn-primary",onClick:e[2]||(e[2]=t=>l.copyMyText()),style:{height:"30px","line-height":"10px"}}," Копировать ")])]),o.team_members.length+1<o.event_data.team_size?((0,n.wg)(),(0,n.iD)("p",uu,' Передай этот код своим друзьям, с которыми ты будешь участвовать в мероприятии. Им нужно перейти на страницу соревнования, нажать "Присоединиться к команде" и использовать код для присоединения к команде. ')):(0,n.kq)("",!0),o.team_members.length+1<o.event_data.min_team_size?((0,n.wg)(),(0,n.iD)("div",du,[(0,n._)("p",pu," Минимальное количество участников в команде: "+(0,i.zw)(o.event_data.min_team_size),1),(0,n._)("p",hu,[mu,(0,n.Uk)(" Если до "+(0,i.zw)(l.toStringDate(new Date(Date.parse(o.event_data.register_end_date))))+" не наберется минимальное количество участников, то команда будет считаться недопущенной к участию в мероприятии. ",1)])])):((0,n.wg)(),(0,n.iD)("div",_u,wu)),(0,n._)("div",yu,[(0,n._)("h5",fu," Состав команды "+(0,i.zw)(o.team_members.length+1)+"/"+(0,i.zw)(o.event_data.team_size),1),(0,n._)("button",{class:"btn bg-danger exit-button",onClick:e[3]||(e[3]=t=>l.exitTeam())}," Выйти из команды ")]),(0,n._)("ul",ku,[(0,n._)("li",vu,(0,i.zw)(o.creator.first_name+" "+o.creator.last_name)+" (Капитан) ",1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.team_members,(t=>((0,n.wg)(),(0,n.iD)("li",{class:"list-group-item",key:t.id},(0,i.zw)(t.first_name+" "+t.last_name),1)))),128))])])}var xu={data(){return{team:{},team_members:{},event_name:"",cnange_code:"",event_data:{},creator:{}}},components:{BackLink:za},async created(){try{const t=await Bp.getTeam(this.$route.params.id);this.team=t.team,this.team_members=t.team_members,this.event_name=t.event_name,this.creator=t.creator,this.cnange_code=this.team.invitation_code}catch(t){return this.$store.dispatch("alert/sendMessage",{message:"Нет доступа",type:"Danger"}),void this.$router.push("/Lk/my-teams")}try{this.event_data=await Wp.getEvent(this.team.event)}catch(t){this.$store.dispatch("alert/sendMessage",{message:t.response.data,type:"Danger"}),this.$router.push("/Lk/my-teams")}},methods:{async exitTeam(){try{await Bp.leaveTeam(this.team.id),this.$store.dispatch("alert/sendMessage",{message:"Произведен выход из команды",type:"Success"})}catch(t){return void this.$store.dispatch("alert/sendMessage",{message:"Не удалось осуществить выход из команды",type:"Danger"})}try{(await xs.getUserNominations(this.event_data.id)).forEach((t=>{xs.deleteUserNomination(Number(t)).catch((()=>{console.log(Number(t))}))}))}catch(t){console.log("error get user nominations")}finally{this.$router.push("/Lk")}},toStringDate(t){return rt.toStringDate(t)},changeCode(){this.cnange_code=this.team.invitation_code},copyMyText(){var t=document.getElementById("copyMe");t.select(),document.execCommand("copy"),this.$store.dispatch("alert/sendMessage",{message:"Текст скопирован в буфер обмена",type:"Success"})}}};const Du=(0,H.Z)(xu,[["render",bu],["__scopeId","data-v-b1a5ad30"]]);var Cu=Du;const Tu={class:"teams"},Su={key:0,class:"col-xl-10 mx-auto"},Mu=(0,n._)("div",{class:"d-flex gap-sm-3 gap-2 justify-content-center align-items-center mb-3"},[(0,n._)("h5",{class:"text-uppercase mb-0 text-sm-start text-center"},"Команды")],-1),Iu={class:"p-2 d-flex flex-lg-row flex-column justify-content-center align-items-center gap-2 gap-lg-5"},Lu=["innerHTML"],$u={class:"p-0 m-0 pb-1 mb-1"},Uu={class:"text-second-blue"},Au=(0,n._)("button",{class:"btn btn-primary"},"Комната команды",-1),ju=(0,n._)("hr",{class:"mx-auto text-second-blue",size:"4",width:"100%"},null,-1),Fu={key:1},zu={key:2,class:"text-center"};function Hu(t,e,s,a,r,o){const l=(0,n.up)("router-link"),c=(0,n.up)("EventsBar");return(0,n.wg)(),(0,n.iD)("div",Tu,[r.teams.length?((0,n.wg)(),(0,n.iD)("div",Su,[Mu,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.teams,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.id},[(0,n._)("div",Iu,[(0,n._)("div",null,[(0,n._)("h5",{class:"mb-1 fs-6",innerHTML:t.event_name},null,8,Lu),(0,n._)("p",$u,[(0,n.Uk)("Команда: "),(0,n._)("em",Uu,(0,i.zw)(t.name),1)])]),(0,n.Wm)(l,{to:{name:"team",params:{id:t.id}}},{default:(0,n.w5)((()=>[Au])),_:2},1032,["to"])]),ju])))),128)),r.event_list.length?((0,n.wg)(),(0,n.j4)(c,{key:0,event_list:r.event_list,title:"Можешь попробовать свои силы в других командных мероприятиях"},null,8,["event_list"])):(0,n.kq)("",!0)])):r.event_list.length?((0,n.wg)(),(0,n.iD)("div",Fu,[(0,n.Wm)(c,{event_list:r.event_list,title:"Текущие командные мероприятия"},null,8,["event_list"])])):((0,n.wg)(),(0,n.iD)("h5",zu,"Командных мероприятий нет"))])}var Nu={data(){return{teams:[],message:"",event_list:[]}},components:{EventsBar:ss},async created(){this.teams=(await xs.getTeams().catch((()=>({teams:[]})))).teams,this.event_list=(await Wp.getActualEventsList().catch((()=>[]))).filter((t=>t.team_event));const t=new Set(this.teams.map((t=>t.event_id)));this.event_list=this.event_list.filter((e=>!t.has(e.id)))},methods:{}};const Pu=(0,H.Z)(Nu,[["render",Hu]]);var Bu=Pu;const Ou=t=>((0,n.dD)("data-v-0e398efc"),t=t(),(0,n.Cn)(),t),Ru={class:""},Eu={key:0},qu={class:"tasks.length"},Wu={key:0,class:"text-uppercase text-center mb-4"},Vu=["id"],Yu={class:"task-elem"},Ku={key:0},Zu=["innerHTML"],Ju={class:"task-elem__descr"},Xu={key:0,class:"task-elem__nom"},Gu={class:"text-second-blue"},Qu={class:"task-elem__name"},td={class:"task-elem__button-block"},ed=["onClick"],sd={key:1,class:"text-uppercase text-center mb-4"},ad={key:2,class:"text-uppercase text-center mb-4"},nd=["id"],id={class:"task-elem"},rd={key:0},od=["innerHTML"],ld={class:"task-elem__descr"},cd={key:0,class:"task-elem__nom"},ud={class:"text-second-blue"},dd={class:"task-elem__name"},pd={class:"text-second-blue"},hd={class:"task-elem__button-block"},md=["onClick"],_d={key:1},gd=Ou((()=>(0,n._)("h5",{class:"text-uppercase text-center"},"Задач не найдено",-1))),wd=[gd];function yd(t,e,s,a,r,o){const l=(0,n.up)("TimerBack");return(0,n.wg)(),(0,n.iD)("div",Ru,[r.tasks.length||r.non_active_tasks.length?((0,n.wg)(),(0,n.iD)("div",Eu,[(0,n._)("div",qu,[r.tasks.length?((0,n.wg)(),(0,n.iD)("h5",Wu,"Активные задачи")):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.tasks,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.id,class:"mb-2 pb-1 d-flex flex-column align-items-center",id:t.id_nom},[(0,n._)("div",Yu,[t.event_name?((0,n.wg)(),(0,n.iD)("div",Ku,[(0,n._)("span",{class:"event-title text-center",innerHTML:t.event_name},null,8,Zu)])):(0,n.kq)("",!0),(0,n._)("div",Ju,[t.nom_name?((0,n.wg)(),(0,n.iD)("h5",Xu,[(0,n._)("em",Gu,(0,i.zw)(t.nom_name),1)])):(0,n.kq)("",!0),(0,n._)("p",Qu," Задача: "+(0,i.zw)(t.name),1),t.end_date&&["C","О"].includes(t.is_accepted)?((0,n.wg)(),(0,n.j4)(l,{key:1,dateTime:t.end_date,class:"mb-3"},null,8,["dateTime"])):(0,n.kq)("",!0),t.status?((0,n.wg)(),(0,n.iD)("p",{key:2,class:(0,i.C_)(["task-elem__status",{"text-secondary":"О"==t.is_accepted,"text-second-blue":"П"==t.is_accepted,"text-danger":"Н"==t.is_accepted,"d-none":"C"==t.is_accepted}])},(0,i.zw)(t.status),3)):(0,n.kq)("",!0)]),(0,n._)("div",td,[t["button_text"]?((0,n.wg)(),(0,n.iD)("button",{key:0,class:(0,i.C_)(["btn btn-primary task-elem__button",{"d-none":["П","Н"].includes(t.is_accepted)||!t.end_date}]),onClick:e=>o.postTask(t.id,t.is_accepted)},(0,i.zw)(t["button_text"]),11,ed)):(0,n.kq)("",!0)])])],8,Vu)))),128)),r.tasks.length&&r.non_active_tasks.length?((0,n.wg)(),(0,n.iD)("h5",sd," Попробуй себя в других задачах ")):(0,n.kq)("",!0),!r.tasks.length&&r.non_active_tasks.length?((0,n.wg)(),(0,n.iD)("h5",ad," Доступные задачи ")):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.non_active_tasks,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t.id,class:"mb-2 pb-1 d-flex flex-column align-items-center",id:t.id_nom},[(0,n._)("div",id,[t.event_name?((0,n.wg)(),(0,n.iD)("div",rd,[(0,n._)("span",{class:"event-title text-center",innerHTML:t.event_name},null,8,od)])):(0,n.kq)("",!0),(0,n._)("div",ld,[t.nom_name?((0,n.wg)(),(0,n.iD)("h5",cd,[(0,n._)("em",ud,(0,i.zw)(t.nom_name),1)])):(0,n.kq)("",!0),(0,n._)("p",dd," Задача: "+(0,i.zw)(t.name),1),(0,n._)("p",null,[(0,n.Uk)(" Доступно до "),(0,n._)("em",pd,(0,i.zw)(o.getTime(new Date(Date.parse(t.end_date)))),1)])]),(0,n._)("div",hd,[t["button_text"]?((0,n.wg)(),(0,n.iD)("button",{key:0,class:"btn btn-primary task-elem__button",onClick:e=>o.postTask(t.id,t.is_accepted)},(0,i.zw)(t["button_text"]),9,md)):(0,n.kq)("",!0)])])],8,nd)))),128))])])):((0,n.wg)(),(0,n.iD)("div",_d,wd))])}const fd={key:0,class:"timer-back"};function kd(t,e,s,a,r,o){return null!==r.remainingTime?((0,n.wg)(),(0,n.iD)("div",fd,(0,i.zw)(o.formattedTime),1)):(0,n.kq)("",!0)}var vd={props:{dateTime:{type:String,required:!0}},data(){return{remainingTime:null}},computed:{formattedTime(){const t=this.remainingTime,e=Math.floor(t/2592e6),s=Math.floor(t%2592e6/864e5),a=Math.floor(t%864e5/36e5),n=Math.floor(t%36e5/6e4),i=Math.floor(t%6e4/1e3);return e>0?`${e}м ${s}дн ${a.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`:s>0?`${s}дн ${a.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`:a>0?`${a.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`:n>0?`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`:i>0?`00:00:${i.toString().padStart(2,"0")}`:"00:00:00"}},mounted(){this.startTimer()},beforeUnmount(){this.timer&&clearInterval(this.timer)},methods:{startTimer(){const t=new Date(this.dateTime).getTime(),e=(new Date).getTime(),s=t-e;s<=0?this.remainingTime=null:(this.updateRemainingTime(),this.timer=setInterval(this.updateRemainingTime,1e3))},updateRemainingTime(){const t=new Date(this.dateTime).getTime(),e=(new Date).getTime(),s=t-e;s<=0?(this.remainingTime=null,clearInterval(this.timer)):this.remainingTime=s}}};const bd=(0,H.Z)(vd,[["render",kd]]);var xd=bd,Dd={data(){return{tasks:[],non_active_tasks:[],user_name:""}},components:{TimerBack:xd},async created(){const t=[],e=await Wp.getActualEventsList().catch((()=>[]));for(let n=0;n<e.length;++n)(await Wp.getNominationsFromEvent(e[n].id).catch((()=>[]))).forEach((s=>{(s.programs?.length??0)>0&&null!=s.programs[0]&&t.push({id:s.id,name:s.name,task:s.programs[0],event_name:e[n].name,event_id:e[n].id,end_date:s.end_date})}));const s=(await xs.getTaskStatusAll().catch((()=>[]))).sort(((t,e)=>t.task-e.task)),a=await xs.getTasks().catch((()=>[]));a.forEach((e=>{const s=t.find((t=>t.task===e.id));s&&(e.id_nom=s.id,e.nom_name=s.name,e.event_name=s.event_name,e.event_id=s.event_id,e.end_date=s.end_date)})),this.tasks=a.filter((t=>s.find((e=>e.task===t.id)))).sort(((t,e)=>t.id-e.id)),this.tasks.forEach(((t,e)=>{t.is_accepted=s[e].is_accepted,t.status=s[e].is_accepted_display,["C","О"].includes(t.is_accepted)&&(t.button_text="Перейти к условию")})),this.non_active_tasks=a.filter((t=>!s.find((e=>e.task===t.id))&&t.end_date)).sort(((t,e)=>t.id-e.id)),this.non_active_tasks.forEach((t=>{t.button_text="Приступить"})),this.tasks.length&&this.sortTasks()},methods:{getTime(t){return rt.toStringDate(t)},sortTasks(){const t={C:1,"П":3,"Н":4,"О":2};this.tasks=this.tasks.sort(((e,s)=>{const a=t[e.is_accepted]||5,n=t[s.is_accepted]||5;return a!==n?a-n:e.id-s.id}))},async postTask(t,e){if(!e){const e=new FormData;e.append("task_id",t);try{await xs.postTaskFile(e)}catch(s){return void this.$store.dispatch("alert/sendMessage",{message:s.response.data.error,type:"Danger"})}this.$store.dispatch("alert/sendMessage",{message:"Можно приступать к выполнению!",type:"Success"})}this.$router.push("/LK/my-tasks/"+t)}}};const Cd=(0,H.Z)(Dd,[["render",yd],["__scopeId","data-v-0e398efc"]]);var Td=Cd;const Sd=t=>((0,n.dD)("data-v-590116b9"),t=t(),(0,n.Cn)(),t),Md={class:""},Id={class:"mx-auto text-center mb-4"},Ld={class:"mb-2"},$d=Sd((()=>(0,n._)("h5",null,"Описание задачи",-1))),Ud=["innerHTML"],Ad=["href"],jd={class:"mb-2"},Fd=Sd((()=>(0,n._)("h5",null,"Критерии оценки",-1))),zd={class:"mb-3"},Hd=Sd((()=>(0,n._)("h5",null,"Требования к представлению результатов",-1))),Nd=Sd((()=>(0,n._)("p",{class:"mb-1"},"- результаты представить в одном zip-архиве;",-1))),Pd={class:"mb-1"},Bd={key:0},Od=Sd((()=>(0,n._)("p",{class:"mb-1"},"- архив должен обязательно содержать:",-1))),Rd=["innerHTML"],Ed={key:0},qd={key:0,class:"mb-2"},Wd=["innerHTML"],Vd={class:"d-flex justify-content-between align-items-end"},Yd={class:"d-flex justify-content-end"};function Kd(t,e,s,a,r,o){const l=(0,n.up)("BackLink");return(0,n.wg)(),(0,n.iD)("div",Md,[(0,n.Wm)(l,{text:"назад"}),(0,n._)("h4",Id,(0,i.zw)(r.task.name),1),(0,n._)("div",Ld,[$d,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.task.description,((t,e)=>((0,n.wg)(),(0,n.iD)("p",{key:e,class:"mb-1",innerHTML:t},null,8,Ud)))),128)),r.task.file?((0,n.wg)(),(0,n.iD)("a",{key:0,href:r.task.link,download:"",class:"text-white link hover-btn text-decoration-underline"},"Скачать приложение",8,Ad)):(0,n.kq)("",!0)]),(0,n._)("div",jd,[Fd,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.task.criteria_score,((t,e)=>((0,n.wg)(),(0,n.iD)("p",{key:e,class:"mb-1"},(0,i.zw)(t),1)))),128))]),(0,n._)("div",zd,[Hd,Nd,(0,n._)("p",Pd,"- максимальный размер архива – "+(0,i.zw)(r.task.max_file_size)+" Мб;",1),r.task.additional_requirements?((0,n.wg)(),(0,n.iD)("div",Bd,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.task.additional_requirements,((t,e)=>((0,n.wg)(),(0,n.iD)("p",{key:e,class:"mb-1"},(0,i.zw)(t),1)))),128))])):(0,n.kq)("",!0),Od,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.task.must_contain,((t,e)=>((0,n.wg)(),(0,n.iD)("p",{key:e,class:"mb-1",style:{margin:"0 0 0 25px"},innerHTML:t},null,8,Rd)))),128))]),r.status?((0,n.wg)(),(0,n.iD)("div",Ed,[["C","О"].includes(r.status.is_accepted)?((0,n.wg)(),(0,n.iD)("div",qd,[(0,n._)("label",{for:"formFile",class:"form-label",innerHTML:o.inputLabel(r.status.is_accepted)},null,8,Wd),(0,n._)("div",Vd,[(0,n._)("input",{class:"form-control file-input",type:"file",id:"formFile",ref:"fileInput",onChange:e[0]||(e[0]=(...t)=>o.updateFile&&o.updateFile(...t))},null,544),(0,n._)("div",Yd,[(0,n._)("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=(...t)=>o.uploadFile&&o.uploadFile(...t))}," Отправить решение "+(0,i.zw)("О"==r.status.is_accepted?"повторно":""),1)])])])):(0,n.kq)("",!0),(0,n._)("p",{class:(0,i.C_)(["mb-2",{"text-secondary":"О"==r.status.is_accepted,"text-success":"П"==r.status.is_accepted,"text-danger":"Н"==r.status.is_accepted,"d-none":"C"==r.status.is_accepted}])},(0,i.zw)(r.status.is_accepted_display),3)])):(0,n.kq)("",!0)])}const Zd=me.apiURL;var Jd={data(){return{task:{},selectedFile:null,status:null,link:""}},components:{BackLink:za},async created(){this.id_task=this.$route.params.id,this.setStatus();try{this.task=await xs.getTask(this.id_task)}catch(e){this.$store.dispatch("alert/sendMessage",{message:500!==e.response.status?e.response.data.error:e.response.data,type:"Danger"}),this.$router.push("/LK/my-tasks")}this.task.description=this.task.description.split("|"),this.task.criteria_score=this.task.criteria_score.split("|"),this.task.must_contain=this.task.must_contain.split("|"),this.task.additional_requirements=this.task.additional_requirements.split("|"),this.task.file&&(this.task.link=`${Zd}download-file/${this.task.id}/`);const t=await Wp.getActualEventsList().catch((()=>[]));for(let s=0;s<t.length;++s)(await Wp.getNominationsFromEvent(t[s].id).catch((()=>[]))).forEach((t=>{(t.programs?.length??0)>0&&null!=t.programs[0]&&t.programs[0]==this.id_task&&(this.id_nom=t.id)}))},methods:{inputLabel(t){return"C"==t?"Загрузи архив с решением!":'Если нет уверенности в решении, архив можно отправить <em class="text-second-blue">повторно</em>. <br>Учитывается только последнее загруженное решение.'},async setStatus(){try{return this.status=await xs.getTaskStatus(this.id_task),void(["Н","П"].includes(this.status.is_accepted)&&this.$router.push("/LK/my-tasks"))}catch(t){this.$router.push("/")}},updateFile(){this.selectedFile=event.target.files[0]},async uploadFile(){if(!this.$refs.fileInput.value)return void this.$store.dispatch("alert/sendMessage",{message:"Файл не загружен",type:"Danger"});const t=this.selectedFile.name.split(".");if(t[t.length-1]!=this.task.file_format)return this.$store.dispatch("alert/sendMessage",{message:"Неверный формат",type:"Danger"}),void(this.$refs.fileInput.value=null);if(this.selectedFile.size>1048576*this.task.max_file_size)return this.$store.dispatch("alert/sendMessage",{message:"Превышен максимальный размер файла",type:"Danger"}),void(this.$refs.fileInput.value=null);const e=new FormData;e.append("file",this.selectedFile),e.append("task_id",this.id_task);try{await xs.putTaskFile(e),this.$store.dispatch("alert/sendMessage",{message:"Решение отправлено!",type:"Success"}),this.setStatus(),this.$refs.fileInput.value=null}catch(a){return this.$store.dispatch("alert/sendMessage",{message:a.response.data.error,type:"Danger"}),void(this.$refs.fileInput.value=null)}if("C"!==this.status.is_accepted)return;const s=(await xs.getUserNominations().catch((()=>[]))).filter((t=>t===this.id_nom)).length;if(!s)try{await xs.postUserNomination(this.id_nom)}catch(a){console.log(a)}}}};const Xd=(0,H.Z)(Jd,[["render",Kd],["__scopeId","data-v-590116b9"]]);var Gd=Xd;const Qd={class:"py-5 pb-2 bg__blue text-white",style:{"min-height":"100vh"}},tp={class:"container"},ep=(0,n._)("h1",{class:"text-uppercase text-center"},"Проекты",-1);function sp(t,e,s,a,i,r){return(0,n.wg)(),(0,n.iD)("div",Qd,[(0,n._)("div",tp,[ep,(0,n._)("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=t=>this.$router.push("/create-project"))},"Создать проект")])])}var ap={data(){return{}},components:{},methods:{}};const np=(0,H.Z)(ap,[["render",sp]]);var ip=np;const rp={class:"py-5 pb-2 bg__blue text-white",style:{"min-height":"100vh"}},op={class:"container"},lp={class:"templ_bg"},cp={class:"row d-flex flex-column-reverse flex-lg-row align-items-center justify-content-evenly"},up=(0,n._)("h2",{class:"mb-1 text-blue text-center fs-6 pt-3 pb-3"}," Создание проекта ",-1),dp={class:"mb-3 input-box"},pp=(0,n._)("label",{for:"email",class:"form-label"},"Название проекта",-1),hp={class:"mb-3 input-box"},mp=(0,n._)("label",{for:"email",class:"form-label"},"Описание проекта",-1),_p=(0,n._)("label",{for:"stage",class:"form-label"},"Стадия проекта",-1),gp=["value"];function wp(t,e,s,r,o,l){const c=(0,n.up)("range-slider");return(0,n.wg)(),(0,n.iD)("div",rp,[(0,n._)("div",op,[(0,n._)("div",lp,[(0,n._)("div",cp,[(0,n._)("form",{onSubmit:e[4]||(e[4]=(0,a.iM)(((...e)=>t.loginUser&&t.loginUser(...e)),["prevent"])),novalidate:"",class:"my-auto form-template py-2"},[up,(0,n._)("div",dp,[pp,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.name=t),type:"text",class:(0,i.C_)(["input",{"border-danger":!o.isCorrect.name}]),id:"name",style:{width:"100%"}},null,2),[[a.nr,o.name]])]),(0,n._)("div",hp,[mp,(0,n.wy)((0,n._)("textarea",{rows:"5","onUpdate:modelValue":e[1]||(e[1]=t=>o.about_project=t),type:"text",class:(0,i.C_)(["input",{"border-danger":!o.isCorrect.about_project}]),id:"about_project",style:{width:"100%"}},"\r\n                            ",2),[[a.nr,o.about_project]])]),_p,(0,n.wy)((0,n._)("select",{onChange:e[2]||(e[2]=t=>{l.changeStage()}),class:(0,i.C_)(["form-select mb-3",{"border-danger":!this.isCorrect.stage}]),"onUpdate:modelValue":e[3]||(e[3]=t=>o.stage=t),id:"stage"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.stages,(t=>((0,n.wg)(),(0,n.iD)("option",{value:t.code,key:t.cod},(0,i.zw)(t.description),9,gp)))),128))],34),[[a.bM,o.stage]]),(0,n.wy)((0,n._)("div",null,[(0,n._)("p",null,(0,i.zw)(o.stage_procent),1),(0,n.Wm)(c,{value:o.stage_procent,"onUpdate:value":l.changeSlider,max:"100"},null,8,["value","onUpdate:value"])],512),[[a.F8,o.is_procent]])],32)])])])])}const yp="projects/",fp={getProjects:kp,getProject:xp,createNewProject:Dp,getStages:vp,getCategories:bp};async function kp(){return Np("get",`${yp}view_all/`,null,!1)}async function vp(){return Np("get",`${yp}project_stages/`,null,!1)}async function bp(){return Np("get",`${yp}category/`,null,!1)}async function xp(t){return Np("get",`${yp}detail/${t}/`,null,!1)}async function Dp(t){return Np("get",`${yp}create/`,t)}var Cp={data(){return{name:"",about_project:"",stage:"",stage_procent:"0",isCorrect:{name:!0,about_project:!0,stage:!0},stages:[],is_procent:!0}},components:{RangeSlider:fc},async created(){this.stages=await fp.getStages(),this.stage=this.stages[0].code},methods:{changeStage(){console.log(this.stage),"Р"!==this.stage?(this.stage_procent="0",this.is_procent=!0):this.is_procent=!1},changeSlider(t){this.stage_procent=t,"100"===this.stage_procent&&(this.stage="Р",this.changeStage())}}};const Tp=(0,H.Z)(Cp,[["render",wp]]);var Sp=Tp;const Mp=(0,ye.p7)({routes:[{path:"/",component:na},{path:"/call-back",component:Po,name:"callBackForm",props:!0},{path:"/login",component:In},{path:"/projects",component:ip},{path:"/create-project",component:Sp},{path:"/forgot-password",component:Co},{path:"/setting-page-verifice-acc",component:po,props:t=>({id:t.query.id,key_link:t.query.key_link})},{path:"/reg",component:ro,props:t=>({source:t.query.source})},{path:"/page/:name",component:Pa,name:"templatePage"},{path:"/event/:id",name:"eventPage",component:tu},{path:"/LK",component:Go,children:[{path:"",component:Vl},{path:"change-password",component:Ec},{path:"set-user-skills",name:"setUserSkills",component:bc},{path:"my-teams",component:Bu},{path:"my-teams/:id",name:"team",component:Cu},{path:"my-tasks",component:Td},{path:"my-tasks/:id",name:"task",component:Gd},{path:"my-tasks/:hash",name:"tasks",component:Td}]},{path:"/news",component:Qa},{path:"/:catchAll(.*)",component:na}],history:(0,ye.PO)()});Mp.beforeEach(((t,e,s)=>{const a=["/reg","/login","/setting-page-verifice-acc","/forgot-password","/call-back","/news"],n=["/page/"],i=a.includes(t.path)||n.find((e=>t.path.startsWith(e))),r=localStorage.getItem("access");t.hash||window.scrollTo(0,0),i||r?s():s("/login")}));var Ip=Mp;const Lp={login:$p,logout:Ap,refresh:Up};function $p(t){return we.post("login/",{email:t.email,password:t.password}).then((t=>{if(t.data.access)return t.data.access;throw"Что-то пошло не так..."}),(t=>{throw t.response?t.response.data.error:"Сервер не отвечает"}))}async function Up(){try{const t=await we.post("refresh/");if(t.data.access)return localStorage.setItem("access",JSON.stringify(t.data.access)),!0;Ca.dispatch("auth/logout",!0)}catch(t){Ca.dispatch("auth/logout",!0)}}function Ap(t=!1){we.post("logout/").catch((t=>{console.log(t)})).finally((()=>{t&&Mp.push("/login")}))}const jp={response:{data:"Сервер не отвечает, попробуйте позднее...",status:500}},Fp={response:{data:"Слишком много запросов, попробуйте позднее...",status:500}},zp={response:{data:"Слишком долгий запрос. Попробуйте еще раз.",status:500}};async function Hp(t,e,s=null,a=!0,n=!0){const i={method:t,url:e,headers:a?Pp():{"ngrok-skip-browser-warning":"69420"},data:s};Ca.dispatch("loading/show");try{const t=await we.request(i);return t.data}catch(r){if(!r.response){if("ECONNABORTED"===r.code){if(n)return await Hp(t,e,s,a,!1);throw zp}throw jp}if(!a||401!==r.response.status)throw[500,408,502].includes(r.response.status)?jp:429===r.response.status?Fp:r;if(n)return await Lp.refresh(),await Hp(t,e,s,!0,!1);Ca.dispatch("auth/logout",!0)}finally{Ca.dispatch("loading/hide")}}var Np=Hp;function Pp(){const t=JSON.parse(localStorage.getItem("access"));return t?{Authorization:"Bearer "+t,"ngrok-skip-browser-warning":"69420"}:{"ngrok-skip-browser-warning":"69420"}}const Bp={registerTeam:qp,invitingTeam:Rp,getTeam:Ep,leaveTeam:Op};async function Op(t){return Np("delete",`team_leave/${t}/`)}async function Rp(t){return Np("post","team_join/",{invitation_code:t})}async function Ep(t){return Np("get",`team_detail/${t}/`)}async function qp(t,e){return Np("post","team_create/",{name:t.team_name,team_password:t.team_password,event_id:e})}const Wp={getSchedule:Vp,getActualEventsList:Yp,getNominations:Kp,getNominationsFromEvent:Zp,getEvent:Jp};async function Vp(){return Np("get","schedule/",null,!1)}async function Yp(){return Np("get","event_actual/",null,!1)}async function Kp(){return Np("get","nomination/",null,!1)}async function Zp(t){return Np("get",`nomination/${t}/`,null,!1)}async function Jp(t){return Np("get",`event/${t}/`,null,!1)}var Xp={computed:{modal(){return this.$store.state.modalCreateTeam}},data(){return{team_name:"",team_password:"111",isCorrect:{team_name:!0}}},methods:{closeModal(){this.$store.dispatch("modalCreateTeam/closeModal"),this.clrearModal()},teamNameChanged(){return this.isCorrect.team_name=!rt.checkIsEmptyStr(this.team_name),this.isCorrect.team_name},clrearModal(){this.team_name="",this.isCorrect.team_name=!0},async regTeam(){if(!this.teamNameChanged())return;try{const t=await Bp.registerTeam({team_name:this.team_name,team_password:"111"},this.$store.state.modalCreateTeam.event_id);this.$store.dispatch("alert/sendMessage",{message:t.ok,type:"Success"})}catch(e){let t=e.response.data;return 500!==e.response.status&&(t=t.error),this.$store.dispatch("alert/sendMessage",{message:t,type:"Danger"}),void this.clrearModal()}const t=this.$store.state.modalCreateTeam.event_id;try{(await Wp.getNominationsFromEvent(t).catch((()=>[]))).forEach((t=>{xs.postUserNomination(t.id)}))}catch(e){console.log(e)}this.closeModal(),this.$router.push("/LK/my-teams")}}};const Gp=(0,H.Z)(Xp,[["render",ue]]);var Qp=Gp;const th={class:"d-flex justify-content-end"},eh=["innerHTML"],sh={class:"mb-3 input-box"},ah=(0,n._)("label",{for:"team_code",class:"form-label"},"Код приглашения",-1),nh=(0,n._)("div",{class:"d-flex justify-content-center mb-2"},[(0,n._)("button",{type:"submit",class:"btn btn-primary"},"Присоединиться к команде")],-1);function ih(t,e,s,r,o,l){return(0,n.wg)(),(0,n.iD)("div",{class:"modal",onClick:e[4]||(e[4]=(...t)=>l.closeModal&&l.closeModal(...t))},[(0,n._)("div",{class:"modal-content",onClick:e[3]||(e[3]=(0,a.iM)((()=>{}),["stop"]))},[(0,n._)("div",th,[(0,n._)("span",{class:"close",onClick:e[0]||(e[0]=(...t)=>l.closeModal&&l.closeModal(...t))},"×")]),(0,n._)("div",{class:"modal__html mb-3 text-center mx-auto col-md-7",innerHTML:l.modal.content},null,8,eh),(0,n._)("form",{onSubmit:e[2]||(e[2]=(0,a.iM)(((...t)=>l.joinTeam&&l.joinTeam(...t)),["prevent"])),novalidate:"",class:"m-auto col-md-7"},[(0,n._)("div",sh,[ah,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.team_code=t),type:"text",class:(0,i.C_)(["input",{"border-danger":!o.isCorrect.team_code}]),id:"team_code",style:{width:"100%"}},null,2),[[a.nr,o.team_code]])]),nh],32)])])}var rh={computed:{modal(){return this.$store.state.modalJoinTeam}},data(){return{team_code:"",isCorrect:{team_code:!0}}},methods:{closeModal(){this.$store.dispatch("modalJoinTeam/closeModal"),this.clrearModal()},teamCodeChanged(){return this.isCorrect.team_code=!rt.checkIsEmptyStr(this.team_code),this.isCorrect.team_code},async joinTeam(){if(!this.teamCodeChanged())return;try{const t=await Bp.invitingTeam(this.team_code);this.$store.dispatch("alert/sendMessage",{message:t.ok,type:"Success"})}catch(e){let t=e.response.data;return 500!==e.response.status&&(t=t.error),this.$store.dispatch("alert/sendMessage",{message:t,type:"Danger"}),void this.clrearModal()}const t=this.$store.state.modalJoinTeam.event_id;try{(await Wp.getNominationsFromEvent(t).catch((()=>[]))).forEach((t=>{xs.postUserNomination(t.id)}))}catch(e){console.log(e)}this.closeModal(),this.$router.push("/LK/my-teams")},clrearModal(){this.team_code="",this.isCorrect.team_code=!0}}};const oh=(0,H.Z)(rh,[["render",ih]]);var lh=oh,ch={data(){return{is_show_accept_cookies:!1}},components:{FooterInfo:Nt,HeaderButtons:vt,AlertMessage:Gt,ModalWindow:ne,CreateTeam:Qp,JoinTeam:lh},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn},is_start(){return this.$store.state.notify.status}},created(){this.$store.dispatch("auth/setup"),this.loggedIn&&!this.is_start&&this.$store.dispatch("notify/start"),JSON.parse(localStorage.getItem("accept-cookies-user"))||(this.is_show_accept_cookies=!0)},methods:{saveAcceptCookies(){localStorage.setItem("accept-cookies-user",JSON.stringify(!0)),this.is_show_accept_cookies=!1}}};const uh=(0,H.Z)(ch,[["render",p]]);var dh=uh,ph=s(3081),hh=s.n(ph);const mh=(0,a.ri)(dh);mh.use(Ip).use(Ca).use(hh()).use(ui.e).mount("#app"),mh.config.errorHandler=(t,e,s)=>{console.log("errorHandler"),console.log(t),console.log(e),console.log(s)},window.onerror=function(t,e,s,a,n){console.log("onerror"),console.log(t),console.log(e),console.log(s),console.log(a),console.log(n)}}},e={};function s(a){var n=e[a];if(void 0!==n)return n.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,a,n,i){if(!a){var r=1/0;for(u=0;u<t.length;u++){a=t[u][0],n=t[u][1],i=t[u][2];for(var o=!0,l=0;l<a.length;l++)(!1&i||r>=i)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(o=!1,i<r&&(r=i));if(o){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[a,n,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,i,r=a[0],o=a[1],l=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(l)var u=l(s)}for(e&&e(a);c<r.length;c++)i=r[c],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(u)},a=self["webpackChunkcps_lk"]=self["webpackChunkcps_lk"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(6984)}));a=s.O(a)})();
//# sourceMappingURL=app.c1bd9a44.js.map